{"version":3,"sources":["assets\\scripts\\Utils.js"],"names":["util","bannerIdTab","addBanner","m_banner","moregameBtn","vedioAd","recorder","recordNatureStop","vedioIdTab","addVideo","baseurl","shareImgUrl","shareTxts","idx","txt","_getShareObject","from","_callSuccess","_callFailed","title","query","desc","obj","Tools","getRandomElement","imageUrl","success","console","log","fail","e","shareFromHomePage","window","wx","shareAppMessage","shareRecord","path","tt","channel","templateId","extra","videoPath","videoTopics","createChallenge","_id","_sy","_WinHeight","_call","phone","getSystemInfoSync","w","screenWidth","h","screenHeight","destroy","bannerAd","createBannerAd","adUnitId","style","onLoad","show","then","onResize","size","width","height","top","left","removeBanner","hide","addMoreGameBtn","_url","createMoreGamesButton","type","image","lineHeight","backgroundColor","textColor","textAlign","fontSize","borderRadius","borderWidth","borderColor","appLaunchOptions","appId","extraData","onNavigateToMiniGame","res","closeMoreGameBtn","createRewardedVideoAd","errorFunc","offError","closeFunc","offClose","warn","error","err","errCode","onError","isEnded","undefined","onClose","load","startRecord","_onNatureClose","getGameRecorderManager","onStart","onStop","start","duration","pauseRecord","onPause","pause","resumeRecord","onResume","resume","stopRecord","stop","module","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["let util = {}\n\nlet bannerIdTab = {\n\taddBanner: \"503khkj54l5m1j6i0i\"\n};\n\nutil.m_banner = null\nutil.moregameBtn = null\nutil.vedioAd = null\nutil.recorder = null\nutil.recordNatureStop = false\nlet vedioIdTab = {\n\taddVideo: \"i2nd08ki9p723pt2k4\"\n}\nconst baseurl = \"https://ecwx-1257044218.cos.ap-chengdu.myqcloud.com/\"\nconst shareImgUrl = baseurl + \"bingoballshare.jpg\"// \"http://img5.imgtn.bdimg.com/it/u=2001547842,1349217893&fm=26&gp=0.jpg\"\nconst shareTxts = [\n\t{ idx: 1, txt: \"他拿起喷子一梭子就给我带走了。。。\" },\n\t{ idx: 2, txt: \"老板有没有加特林，哒哒哒冒蓝火那种\" },\n\t{ idx: 3, txt: \"鸡吃撑了，歇会儿\" },\n\t{ idx: 4, txt: \"这里的妹子真Q弹，就是她了！\" },\n]\nutil._getShareObject = function (from, _callSuccess, _callFailed) {\n\tlet title = \"史上最难的游戏，玩过的人都说春运抢票不算难！\"\n\tlet query = null\n\tlet desc = null\n\tlet obj = Tools.getRandomElement(shareTxts)\n\tif (obj) {\n\t\tdesc = obj.txt\n\t\tquery = \"from=\" + from + \"&txt_id=\" + title.idx\n\t}\n\treturn {\n\t\ttitle: title,\n\t\tdesc: desc,\n\t\tquery: query,\n\t\timageUrl: shareImgUrl,\n\t\tsuccess() {\n\t\t\tconsole.log('分享成功');\n\t\t\t_callSuccess && _callSuccess()\n\t\t},\n\t\tfail(e) {\n\t\t\tconsole.log('分享失败');\n\t\t\tconsole.log(e)\n\t\t\t_callFailed && _callFailed()\n\t\t}\n\t}\n}\nutil.shareFromHomePage = function (_callSuccess, _callFailed) {\n\tif (window.wx) {\n\t\twx.shareAppMessage(util._getShareObject(\"home_page\", _callSuccess, _callFailed))\n\t} else {\n\t\t_callSuccess && _callSuccess()\n\t}\n}\nutil.shareRecord = function (path, _callSuccess, _callFailed) {\n\tif (window.tt) {\n\t\t// tt.shareAppMessage(util._getShareObject(\"home_page\"))\n\t\tlet title = \"史上最难的游戏，玩过的人都说春运抢票不算难！\"\n\t\tlet query = null\n\t\tlet desc = null\n\t\tlet obj = Tools.getRandomElement(shareTxts)\n\t\tif (obj) {\n\t\t\tdesc = obj.txt\n\t\t\tquery = \"from=share\" + \"&txt_id=\" + title.idx\n\t\t}\n\t\ttt.shareAppMessage({\n\t\t\tchannel: 'video',\n\t\t\ttitle: title,\n\t\t\tdesc: desc,\n\t\t\timageUrl: shareImgUrl,//放入与游戏相关的百度图片\n\t\t\ttemplateId: '',\n\t\t\tquery: query,\n\t\t\textra: {\n\t\t\t\tvideoPath: path, // 换成录屏得到的视频地址\n\t\t\t\tvideoTopics: ['全民刺激吃鸡', '小游戏'],\n\t\t\t\tcreateChallenge: true\n\t\t\t},\n\t\t\tsuccess() {\n\t\t\t\tconsole.log('分享视频成功');\n\t\t\t\t_callSuccess && _callSuccess()\n\t\t\t},\n\t\t\tfail(e) {\n\t\t\t\tconsole.log('分享视频失败');\n\t\t\t\tconsole.log(e)\n\t\t\t\t_callFailed && _callFailed()\n\t\t\t}\n\t\t})\n\n\n\t}\n}\nutil.addBanner = function (_id, _sy, _WinHeight, _call) {\n\tif (window.tt == null) {\n\t\treturn\n\t}\n\tvar phone = tt.getSystemInfoSync();\n\tvar w = phone.screenWidth\n\tvar h = phone.screenHeight;\n\tif (util.m_banner) {\n\t\tutil.m_banner.destroy()\n\t\tconsole.log(\"m_banner is has create\")\n\t} else {\n\t\tconsole.log(\"m_banner is has not create\")\n\t}\n\tlet bannerAd = tt.createBannerAd({\n\t\tadUnitId: bannerIdTab[_id],\n\t\tstyle: _sy\n\t});\n\tutil.m_banner = bannerAd\n\tbannerAd.onLoad(() => {\n\t\tconsole.log(\"bannerAd 加载成功\")\n\t\tutil.m_banner.show().then(() => {\n\t\t\tconsole.log(\"广告显示成功\");\n\t\t})\n\t});\n\t// 尺寸调整时会触发回调\n\t// 注意：如果在回调里再次调整尺寸，要确保不要触发死循环！！！\n\tbannerAd.onResize(size => {\n\t\t// console.log(\"重置\");\n\t\t// console.log(size.width, size.height);\n\t\tif (size.width == 0) return;\n\t\tif (size.height == 0) return;\n\n\t\t// 如果一开始设置的 banner 宽度超过了系统限制，可以在此处加以调整\n\t\tif (200 != size.width) {\n\t\t\tbannerAd.style.top = h - (size.height);\n\t\t\tbannerAd.style.left = (w - size.width) / 2;\n\t\t}\n\t});\n\t// util.m_banner.onError(err => {\n\t// \tconsole.log(err)\n\t// });\n\n\t// util.m_banner.show().catch(err => console.log(err)).then(() => {\n\t// \tconsole.log(\"banner show success\");\n\t// \tif (_call) {\n\t// \t\t_call();\n\t// \t}\n\t// });\n\t// util.m_banner.onResize(res => {\n\t// \tconsole.log(\"bannerAd onResize bannerAd.style.realHeight:\" + util.m_banner.style.realHeight)\n\t// \tconsole.log(\"bannerAd onResize bannerAd.style.top:\" + util.m_banner.style.top)\n\t// \tutil.m_banner.style.left = w - util.m_banner.style.realWidth / 2 + 0.1\n\t// \tutil.m_banner.style.top = h - util.m_banner.style.realHeight - 10\n\t// \tutil.m_banner.style.width = util.m_banner.style.realWidth\n\t// })\n\n}\nutil.removeBanner = function () {\n\tif (window.tt == null) {\n\t\treturn\n\t}\n\tif (util.m_banner) {\n\t\tutil.m_banner.hide()\n\t\tconsole.log(\"removeBanner\")\n\t}\n}\n//不用\nutil.addMoreGameBtn = function (_url) {\n\tif (window.tt) {\n\t\tvar phone = tt.getSystemInfoSync();\n\t\tvar w = phone.screenWidth\n\t\tvar h = phone.screenHeight;\n\t\tutil.moregameBtn = tt.createMoreGamesButton({\n\t\t\ttype: \"image\",\n\t\t\timage: _url,\n\t\t\tstyle: {\n\t\t\t\tleft: 20,\n\t\t\t\ttop: 50,\n\t\t\t\twidth: 50,\n\t\t\t\theight: 50,\n\t\t\t\tlineHeight: 50,\n\t\t\t\tbackgroundColor: \"\",\n\t\t\t\ttextColor: \"\",\n\t\t\t\ttextAlign: \"center\",\n\t\t\t\tfontSize: 16,\n\t\t\t\tborderRadius: 0,\n\t\t\t\tborderWidth: 0,\n\t\t\t\tborderColor: \"\"\n\t\t\t},\n\t\t\tappLaunchOptions: [\n\t\t\t\t{\n\t\t\t\t\tappId: \"ttXXXXXX\",\n\t\t\t\t\tquery: \"foo=bar&baz=qux\",\n\t\t\t\t\textraData: {}\n\t\t\t\t}\n\t\t\t\t// {...}\n\t\t\t],\n\t\t\tonNavigateToMiniGame(res) {\n\t\t\t\tconsole.log(\"跳转其他小游戏\", res);\n\t\t\t}\n\t\t});\n\t\tconsole.log(util.moregameBtn)\n\t\t// Tools.scaleUpAndDowm(util.moregameBtn.node)\n\t\t// btn.onTap(() => {\n\t\t// \tconsole.log(\"点击更多游戏\");\n\t\t// });\n\t}\n}\nutil.closeMoreGameBtn = function () {\n\tutil.moregameBtn.destroy()\n}\nutil.addVideo = function (_id, _callSuccess, _callFailed) {\n\tif (window.tt == null) {\n\t\treturn\n\t}\n\n\tutil.vedioAd = tt.createRewardedVideoAd({\n\t\tadUnitId: vedioIdTab[_id]\n\t});\n\n\ttry {\n\t\tif (util.vedioAd.errorFunc) {\n\t\t\tconsole.log(\"关闭了error\")\n\t\t\tutil.vedioAd.offError(util.vedioAd.errorFunc);\n\t\t}\n\t\tif (util.vedioAd.closeFunc) {\n\t\t\tconsole.log(\"关闭了close\")\n\t\t\tutil.vedioAd.offClose(util.vedioAd.closeFunc);\n\t\t}\n\t} catch (e) {\n\t\tconsole.warn(\"--------------videoAd offClose or offError error:\");\n\t\tconsole.error(e);\n\t}\n\n\tutil.vedioAd.errorFunc = function (err) {\n\t\tconsole.log(err)\n\t\tif (err.errCode == 1004) {\n\t\t\t_callSuccess && _callSuccess(\"无可观看视频\");\n\t\t} else {\n\t\t\t_callSuccess && _callSuccess(\"视频服务器错误\");\n\t\t}\n\t};\n\tutil.vedioAd.onError(util.vedioAd.errorFunc);\n\tutil.vedioAd.closeFunc = function (res) {\n\t\tconsole.log(\"执行了closeFunc\")\n\t\tif (res && res.isEnded || res === undefined) {\n\t\t\t// util.vedioAd.offLoad()\n\t\t\tconsole.log(\"播放完了\")\n\t\t\t_callSuccess && _callSuccess();\n\t\t} else {\n\t\t\tconsole.log('中途退出')\n\t\t\t_callFailed && _callFailed()\n\t\t}\n\t};\n\tutil.vedioAd.onClose(util.vedioAd.closeFunc);\n\n\n\tutil.vedioAd.show().catch(() => {\n\t\t// 失败重试\n\t\tutil.vedioAd.load()\n\t\t\t.then(() => util.vedioAd.show())\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log('激励视频or广告显示失败')\n\t\t\t})\n\t});\n\n}\nutil.startRecord = function (_call, _onNatureClose) {\n\tif (window.tt == null) {\n\t\treturn\n\t}\n\tutil.recorder = tt.getGameRecorderManager();\n\tutil.recorder.onStart(res => {\n\t\tconsole.log('录屏开始');\n\t\tutil.recordNatureStop = false\n\t\t_call && _call()\n\t})\n\tutil.recorder.onStop(res => {\n\t\tconsole.log('录屏自然停止');\n\t\tutil.recordNatureStop = true\n\t\t_onNatureClose && _onNatureClose(res)\n\t})\n\tutil.recorder.onError(res => {\n\t\tconsole.log('录屏错误');\n\t})\n\tutil.recorder.start({\n\t\tduration: 1200,\n\t})\n};\nutil.pauseRecord = function (_call) {\n\tutil.recorder.onPause(res => {\n\t\tconsole.log('录屏暂停');\n\t\t_call && _call()\n\t})\n\n\tutil.recorder.pause()\n};\nutil.resumeRecord = function (_call) {\n\tutil.recorder.onResume(res => {\n\t\tconsole.log('录屏恢复');\n\t\t_call && _call()\n\t})\n\n\tutil.recorder.resume()\n};\nutil.stopRecord = function (_call) {\n\tif (util.recordNatureStop) {\n\t\t_call && _call()\n\t\treturn;\n\t}\n\tutil.recorder.onStop(res => {\n\t\tconsole.log('录屏停止');\n\t\t// util.recordPath = res.videoPath;\n\t\t_call && _call(res)\n\t})\n\n\tutil.recorder.stop()\n};\n\n\nmodule.exports = util"]}