{"version":3,"sources":["assets\\scripts\\ui\\BoxUI.js"],"names":["Utils","require","cc","Class","Component","properties","coinUI","Label","needCoinUI","box1CoinRewardUI","box2CoinRewardUI","onceClick","visible","onLoad","GameApp","eventManager","on","EventNames","EVENT_UPDATE_COIN_SHOW","updateUIShow","bind","onDestroy","removeListener","string","dataManager","userData","coinNum","box1NeedCoinNum","box1RewardCoinNum","box2RewardCoinNum","oneBtnClick","audioManager","playEffect","reduceCoin","uiManager","showPopup","node","getNum","Tools","randomNum","addCoin","getComponent","init","boxSkinDataGroup","showToast","twoBtnClick","window","wx","self","tt","addVideo","addPlayedVideoNum","Math","floor","_info","threeBtnClick","getIndex","addPieceNum","coinBtnClick","backBtnClick","showUI"],"mappings":"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","sourceRoot":"/","sourcesContent":["const Utils = require(\"Utils\")\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        coinUI: cc.Label,\r\n        needCoinUI: cc.Label,\r\n        box1CoinRewardUI: cc.Label,\r\n        box2CoinRewardUI: cc.Label,\r\n\r\n        onceClick: {\r\n            default: true,\r\n            visible: false\r\n        }\r\n    },\r\n    onLoad() {\r\n        GameApp.eventManager.on(EventNames.EVENT_UPDATE_COIN_SHOW, this.updateUIShow.bind(this))\r\n        this.updateUIShow()\r\n    },\r\n    onDestroy() {\r\n        GameApp.eventManager.removeListener(EventNames.EVENT_UPDATE_COIN_SHOW)\r\n    },\r\n    updateUIShow() {\r\n        this.coinUI.string = GameApp.dataManager.userData.coinNum\r\n        this.needCoinUI.string = GameApp.dataManager.userData.box1NeedCoinNum\r\n        this.box1CoinRewardUI.string = GameApp.dataManager.userData.box1RewardCoinNum[0] + '~' + GameApp.dataManager.userData.box1RewardCoinNum[1]\r\n        this.box2CoinRewardUI.string = GameApp.dataManager.userData.box2RewardCoinNum[0] + '~' + GameApp.dataManager.userData.box2RewardCoinNum[1]\r\n    },\r\n    oneBtnClick() {\r\n        if (!this.onceClick) return;\r\n        this.onceClick = false\r\n        GameApp.audioManager.playEffect('click')\r\n        if (GameApp.dataManager.reduceCoin(GameApp.dataManager.userData.box1NeedCoinNum)) {\r\n            GameApp.uiManager.showPopup('OpenBoxPopup', (node) => {\r\n                var getNum = Tools.randomNum(GameApp.dataManager.userData.box1RewardCoinNum[0], GameApp.dataManager.userData.box1RewardCoinNum[1])\r\n                GameApp.dataManager.addCoin(getNum)\r\n                node.getComponent('OpenBoxPopup').init(GameApp.uiManager.boxSkinDataGroup[0], 1, getNum)\r\n                if (GameApp.dataManager.userData.box1NeedCoinNum < 6400) {\r\n                    GameApp.dataManager.userData.box1NeedCoinNum *= 2\r\n                    GameApp.dataManager.userData.box1RewardCoinNum[0] = GameApp.dataManager.userData.box1NeedCoinNum / 2\r\n                    GameApp.dataManager.userData.box1RewardCoinNum[1] = GameApp.dataManager.userData.box1NeedCoinNum * 1.5\r\n                }\r\n                this.updateUIShow()\r\n                this.onceClick = true\r\n            })\r\n        } else {\r\n            this.onceClick = true\r\n            GameApp.uiManager.showToast(\"金币不足!\")\r\n        }\r\n    },\r\n    twoBtnClick() {\r\n        if (window.wx) {\r\n            GameApp.uiManager.showToast(\"暂未开放！\")\r\n            return\r\n        }\r\n        if (!this.onceClick) return;\r\n        this.onceClick = false\r\n        GameApp.audioManager.playEffect('click')\r\n        var self = this\r\n        if (window.tt) {\r\n            Utils.addVideo(\"addVideo\", function () { //看完了\r\n                self.onceClick = true\r\n                GameApp.dataManager.addPlayedVideoNum()\r\n                GameApp.uiManager.showPopup('OpenBoxPopup', (node) => {\r\n                    var getNum = Tools.randomNum(GameApp.dataManager.userData.box2RewardCoinNum[0], GameApp.dataManager.userData.box2RewardCoinNum[1])\r\n                    GameApp.dataManager.addCoin(getNum)\r\n                    node.getComponent('OpenBoxPopup').init(GameApp.uiManager.boxSkinDataGroup[1], 1, getNum)\r\n                    if (GameApp.dataManager.userData.box2RewardCoinNum[0] < 1400) {\r\n                        GameApp.dataManager.userData.box2RewardCoinNum[0] = Math.floor(GameApp.dataManager.userData.box2RewardCoinNum[0] * 1.5)\r\n                        GameApp.dataManager.userData.box2RewardCoinNum[1] = Math.floor(GameApp.dataManager.userData.box2RewardCoinNum[1] * 1.5)\r\n                    }\r\n                    self.updateUIShow()\r\n                    self.onceClick = true\r\n                })\r\n            }, function (_info) { //没看完\r\n                self.onceClick = true\r\n                _info ? GameApp.uiManager.showToast(_info) : GameApp.uiManager.showToast(\"未看完视频！\")\r\n            })\r\n        } else {\r\n            self.onceClick = true\r\n            GameApp.dataManager.addPlayedVideoNum()\r\n            GameApp.uiManager.showPopup('OpenBoxPopup', (node) => {\r\n                var getNum = Tools.randomNum(GameApp.dataManager.userData.box2RewardCoinNum[0], GameApp.dataManager.userData.box2RewardCoinNum[1])\r\n                GameApp.dataManager.addCoin(getNum)\r\n                node.getComponent('OpenBoxPopup').init(GameApp.uiManager.boxSkinDataGroup[1], 1, getNum)\r\n                if (GameApp.dataManager.userData.box2RewardCoinNum[0] < 1400) {\r\n                    GameApp.dataManager.userData.box2RewardCoinNum[0] = Math.floor(GameApp.dataManager.userData.box2RewardCoinNum[0] * 1.5)\r\n                    GameApp.dataManager.userData.box2RewardCoinNum[1] = Math.floor(GameApp.dataManager.userData.box2RewardCoinNum[1] * 1.5)\r\n                }\r\n                self.updateUIShow()\r\n                self.onceClick = true\r\n            })\r\n        }\r\n    },\r\n    threeBtnClick() {\r\n        if (window.wx) {\r\n            GameApp.uiManager.showToast(\"暂未开放！\")\r\n            return\r\n        }\r\n        if (!this.onceClick) return;\r\n        this.onceClick = false\r\n        GameApp.audioManager.playEffect('click')\r\n        var self = this\r\n\r\n        if (window.tt) {\r\n            Utils.addVideo(\"addVideo\", function () { //看完了\r\n                self.onceClick = true\r\n                GameApp.dataManager.addPlayedVideoNum()\r\n                var getIndex = Tools.randomNum(26, 30)\r\n                var getNum = 5\r\n                GameApp.dataManager.addPieceNum(getIndex, getNum)\r\n                GameApp.uiManager.showPopup('OpenBoxPopup', (node) => {\r\n                    node.getComponent('OpenBoxPopup').init(GameApp.uiManager.boxSkinDataGroup[2], 2, getNum, getIndex)\r\n                    self.onceClick = true\r\n                })\r\n            }, function (_info) { //没看完\r\n                self.onceClick = true\r\n                _info ? GameApp.uiManager.showToast(_info) : GameApp.uiManager.showToast(\"未看完视频！\")\r\n            })\r\n        } else {\r\n            self.onceClick = true\r\n            GameApp.dataManager.addPlayedVideoNum()\r\n            var getIndex = Tools.randomNum(26, 30)\r\n            var getNum = 5\r\n            GameApp.dataManager.addPieceNum(getIndex, getNum)\r\n            GameApp.uiManager.showPopup('OpenBoxPopup', (node) => {\r\n                node.getComponent('OpenBoxPopup').init(GameApp.uiManager.boxSkinDataGroup[2], 2, getNum, getIndex)\r\n                self.onceClick = true\r\n            })\r\n        }\r\n\r\n    },\r\n\r\n    coinBtnClick() {\r\n        if (!this.onceClick) return;\r\n        this.onceClick = false\r\n        GameApp.audioManager.playEffect('click')\r\n        var self = this\r\n\r\n        if (window.tt) {\r\n            Utils.addVideo(\"addVideo\", function () { //看完了\r\n                self.onceClick = true\r\n                GameApp.uiManager.showToast(\"获得500金币\")\r\n                GameApp.dataManager.addCoin(500)\r\n                self.updateUIShow()\r\n            }, function (_info) { //没看完\r\n                self.onceClick = true\r\n                _info ? GameApp.uiManager.showToast(_info) : GameApp.uiManager.showToast(\"未看完视频！\")\r\n            })\r\n        } else {\r\n            self.onceClick = true\r\n            GameApp.uiManager.showToast(\"非真机,获得500金币\")\r\n            GameApp.dataManager.addCoin(500)\r\n            self.updateUIShow()\r\n        }\r\n\r\n    },\r\n    backBtnClick() {\r\n        GameApp.audioManager.playEffect('click')\r\n        GameApp.uiManager.showUI('LoginUI')\r\n    },\r\n});\r\n"]}