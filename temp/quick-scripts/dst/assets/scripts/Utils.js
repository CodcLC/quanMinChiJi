
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/Utils.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '4e007BguLFPRI4XSmgSly76', 'Utils');
// scripts/Utils.js

"use strict";

var util = {};
var bannerIdTab = {
  addBanner: "503khkj54l5m1j6i0i"
};
util.m_banner = null;
util.moregameBtn = null;
util.vedioAd = null;
util.recorder = null;
util.recordNatureStop = false;
var vedioIdTab = {
  addVideo: "i2nd08ki9p723pt2k4"
};
var baseurl = "https://ecwx-1257044218.cos.ap-chengdu.myqcloud.com/";
var shareImgUrl = baseurl + "bingoballshare.jpg"; // "http://img5.imgtn.bdimg.com/it/u=2001547842,1349217893&fm=26&gp=0.jpg"

var shareTxts = [{
  idx: 1,
  txt: "他拿起喷子一梭子就给我带走了。。。"
}, {
  idx: 2,
  txt: "老板有没有加特林，哒哒哒冒蓝火那种"
}, {
  idx: 3,
  txt: "鸡吃撑了，歇会儿"
}, {
  idx: 4,
  txt: "这里的妹子真Q弹，就是她了！"
}];

util._getShareObject = function (from, _callSuccess, _callFailed) {
  var title = "史上最难的游戏，玩过的人都说春运抢票不算难！";
  var query = null;
  var desc = null;
  var obj = Tools.getRandomElement(shareTxts);

  if (obj) {
    desc = obj.txt;
    query = "from=" + from + "&txt_id=" + title.idx;
  }

  return {
    title: title,
    desc: desc,
    query: query,
    imageUrl: shareImgUrl,
    success: function success() {
      console.log('分享成功');
      _callSuccess && _callSuccess();
    },
    fail: function fail(e) {
      console.log('分享失败');
      console.log(e);
      _callFailed && _callFailed();
    }
  };
};

util.shareFromHomePage = function (_callSuccess, _callFailed) {
  if (window.wx) {
    wx.shareAppMessage(util._getShareObject("home_page", _callSuccess, _callFailed));
  } else {
    _callSuccess && _callSuccess();
  }
};

util.shareRecord = function (path, _callSuccess, _callFailed) {
  if (window.tt) {
    // tt.shareAppMessage(util._getShareObject("home_page"))
    var title = "史上最难的游戏，玩过的人都说春运抢票不算难！";
    var query = null;
    var desc = null;
    var obj = Tools.getRandomElement(shareTxts);

    if (obj) {
      desc = obj.txt;
      query = "from=share" + "&txt_id=" + title.idx;
    }

    tt.shareAppMessage({
      channel: 'video',
      title: title,
      desc: desc,
      imageUrl: shareImgUrl,
      //放入与游戏相关的百度图片
      templateId: '',
      query: query,
      extra: {
        videoPath: path,
        // 换成录屏得到的视频地址
        videoTopics: ['全民刺激吃鸡', '小游戏'],
        createChallenge: true
      },
      success: function success() {
        console.log('分享视频成功');
        _callSuccess && _callSuccess();
      },
      fail: function fail(e) {
        console.log('分享视频失败');
        console.log(e);
        _callFailed && _callFailed();
      }
    });
  }
};

util.addBanner = function (_id, _sy, _WinHeight, _call) {
  if (window.tt == null) {
    return;
  }

  var phone = tt.getSystemInfoSync();
  var w = phone.screenWidth;
  var h = phone.screenHeight;

  if (util.m_banner) {
    util.m_banner.destroy();
    console.log("m_banner is has create");
  } else {
    console.log("m_banner is has not create");
  }

  var bannerAd = tt.createBannerAd({
    adUnitId: bannerIdTab[_id],
    style: _sy
  });
  util.m_banner = bannerAd;
  bannerAd.onLoad(function () {
    console.log("bannerAd 加载成功");
    util.m_banner.show().then(function () {
      console.log("广告显示成功");
    });
  }); // 尺寸调整时会触发回调
  // 注意：如果在回调里再次调整尺寸，要确保不要触发死循环！！！

  bannerAd.onResize(function (size) {
    // console.log("重置");
    // console.log(size.width, size.height);
    if (size.width == 0) return;
    if (size.height == 0) return; // 如果一开始设置的 banner 宽度超过了系统限制，可以在此处加以调整

    if (200 != size.width) {
      bannerAd.style.top = h - size.height;
      bannerAd.style.left = (w - size.width) / 2;
    }
  }); // util.m_banner.onError(err => {
  // 	console.log(err)
  // });
  // util.m_banner.show().catch(err => console.log(err)).then(() => {
  // 	console.log("banner show success");
  // 	if (_call) {
  // 		_call();
  // 	}
  // });
  // util.m_banner.onResize(res => {
  // 	console.log("bannerAd onResize bannerAd.style.realHeight:" + util.m_banner.style.realHeight)
  // 	console.log("bannerAd onResize bannerAd.style.top:" + util.m_banner.style.top)
  // 	util.m_banner.style.left = w - util.m_banner.style.realWidth / 2 + 0.1
  // 	util.m_banner.style.top = h - util.m_banner.style.realHeight - 10
  // 	util.m_banner.style.width = util.m_banner.style.realWidth
  // })
};

util.removeBanner = function () {
  if (window.tt == null) {
    return;
  }

  if (util.m_banner) {
    util.m_banner.hide();
    console.log("removeBanner");
  }
}; //不用


util.addMoreGameBtn = function (_url) {
  if (window.tt) {
    var phone = tt.getSystemInfoSync();
    var w = phone.screenWidth;
    var h = phone.screenHeight;
    util.moregameBtn = tt.createMoreGamesButton({
      type: "image",
      image: _url,
      style: {
        left: 20,
        top: 50,
        width: 50,
        height: 50,
        lineHeight: 50,
        backgroundColor: "",
        textColor: "",
        textAlign: "center",
        fontSize: 16,
        borderRadius: 0,
        borderWidth: 0,
        borderColor: ""
      },
      appLaunchOptions: [{
        appId: "ttXXXXXX",
        query: "foo=bar&baz=qux",
        extraData: {}
      } // {...}
      ],
      onNavigateToMiniGame: function onNavigateToMiniGame(res) {
        console.log("跳转其他小游戏", res);
      }
    });
    console.log(util.moregameBtn); // Tools.scaleUpAndDowm(util.moregameBtn.node)
    // btn.onTap(() => {
    // 	console.log("点击更多游戏");
    // });
  }
};

util.closeMoreGameBtn = function () {
  util.moregameBtn.destroy();
};

util.addVideo = function (_id, _callSuccess, _callFailed) {
  if (window.tt == null) {
    return;
  }

  util.vedioAd = tt.createRewardedVideoAd({
    adUnitId: vedioIdTab[_id]
  });

  try {
    if (util.vedioAd.errorFunc) {
      console.log("关闭了error");
      util.vedioAd.offError(util.vedioAd.errorFunc);
    }

    if (util.vedioAd.closeFunc) {
      console.log("关闭了close");
      util.vedioAd.offClose(util.vedioAd.closeFunc);
    }
  } catch (e) {
    console.warn("--------------videoAd offClose or offError error:");
    console.error(e);
  }

  util.vedioAd.errorFunc = function (err) {
    console.log(err);

    if (err.errCode == 1004) {
      _callSuccess && _callSuccess("无可观看视频");
    } else {
      _callSuccess && _callSuccess("视频服务器错误");
    }
  };

  util.vedioAd.onError(util.vedioAd.errorFunc);

  util.vedioAd.closeFunc = function (res) {
    console.log("执行了closeFunc");

    if (res && res.isEnded || res === undefined) {
      // util.vedioAd.offLoad()
      console.log("播放完了");
      _callSuccess && _callSuccess();
    } else {
      console.log('中途退出');
      _callFailed && _callFailed();
    }
  };

  util.vedioAd.onClose(util.vedioAd.closeFunc);
  util.vedioAd.show()["catch"](function () {
    // 失败重试
    util.vedioAd.load().then(function () {
      return util.vedioAd.show();
    })["catch"](function (err) {
      console.log('激励视频or广告显示失败');
    });
  });
};

util.startRecord = function (_call, _onNatureClose) {
  if (window.tt == null) {
    return;
  }

  util.recorder = tt.getGameRecorderManager();
  util.recorder.onStart(function (res) {
    console.log('录屏开始');
    util.recordNatureStop = false;
    _call && _call();
  });
  util.recorder.onStop(function (res) {
    console.log('录屏自然停止');
    util.recordNatureStop = true;
    _onNatureClose && _onNatureClose(res);
  });
  util.recorder.onError(function (res) {
    console.log('录屏错误');
  });
  util.recorder.start({
    duration: 1200
  });
};

util.pauseRecord = function (_call) {
  util.recorder.onPause(function (res) {
    console.log('录屏暂停');
    _call && _call();
  });
  util.recorder.pause();
};

util.resumeRecord = function (_call) {
  util.recorder.onResume(function (res) {
    console.log('录屏恢复');
    _call && _call();
  });
  util.recorder.resume();
};

util.stopRecord = function (_call) {
  if (util.recordNatureStop) {
    _call && _call();
    return;
  }

  util.recorder.onStop(function (res) {
    console.log('录屏停止'); // util.recordPath = res.videoPath;

    _call && _call(res);
  });
  util.recorder.stop();
};

module.exports = util;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcVXRpbHMuanMiXSwibmFtZXMiOlsidXRpbCIsImJhbm5lcklkVGFiIiwiYWRkQmFubmVyIiwibV9iYW5uZXIiLCJtb3JlZ2FtZUJ0biIsInZlZGlvQWQiLCJyZWNvcmRlciIsInJlY29yZE5hdHVyZVN0b3AiLCJ2ZWRpb0lkVGFiIiwiYWRkVmlkZW8iLCJiYXNldXJsIiwic2hhcmVJbWdVcmwiLCJzaGFyZVR4dHMiLCJpZHgiLCJ0eHQiLCJfZ2V0U2hhcmVPYmplY3QiLCJmcm9tIiwiX2NhbGxTdWNjZXNzIiwiX2NhbGxGYWlsZWQiLCJ0aXRsZSIsInF1ZXJ5IiwiZGVzYyIsIm9iaiIsIlRvb2xzIiwiZ2V0UmFuZG9tRWxlbWVudCIsImltYWdlVXJsIiwic3VjY2VzcyIsImNvbnNvbGUiLCJsb2ciLCJmYWlsIiwiZSIsInNoYXJlRnJvbUhvbWVQYWdlIiwid2luZG93Iiwid3giLCJzaGFyZUFwcE1lc3NhZ2UiLCJzaGFyZVJlY29yZCIsInBhdGgiLCJ0dCIsImNoYW5uZWwiLCJ0ZW1wbGF0ZUlkIiwiZXh0cmEiLCJ2aWRlb1BhdGgiLCJ2aWRlb1RvcGljcyIsImNyZWF0ZUNoYWxsZW5nZSIsIl9pZCIsIl9zeSIsIl9XaW5IZWlnaHQiLCJfY2FsbCIsInBob25lIiwiZ2V0U3lzdGVtSW5mb1N5bmMiLCJ3Iiwic2NyZWVuV2lkdGgiLCJoIiwic2NyZWVuSGVpZ2h0IiwiZGVzdHJveSIsImJhbm5lckFkIiwiY3JlYXRlQmFubmVyQWQiLCJhZFVuaXRJZCIsInN0eWxlIiwib25Mb2FkIiwic2hvdyIsInRoZW4iLCJvblJlc2l6ZSIsInNpemUiLCJ3aWR0aCIsImhlaWdodCIsInRvcCIsImxlZnQiLCJyZW1vdmVCYW5uZXIiLCJoaWRlIiwiYWRkTW9yZUdhbWVCdG4iLCJfdXJsIiwiY3JlYXRlTW9yZUdhbWVzQnV0dG9uIiwidHlwZSIsImltYWdlIiwibGluZUhlaWdodCIsImJhY2tncm91bmRDb2xvciIsInRleHRDb2xvciIsInRleHRBbGlnbiIsImZvbnRTaXplIiwiYm9yZGVyUmFkaXVzIiwiYm9yZGVyV2lkdGgiLCJib3JkZXJDb2xvciIsImFwcExhdW5jaE9wdGlvbnMiLCJhcHBJZCIsImV4dHJhRGF0YSIsIm9uTmF2aWdhdGVUb01pbmlHYW1lIiwicmVzIiwiY2xvc2VNb3JlR2FtZUJ0biIsImNyZWF0ZVJld2FyZGVkVmlkZW9BZCIsImVycm9yRnVuYyIsIm9mZkVycm9yIiwiY2xvc2VGdW5jIiwib2ZmQ2xvc2UiLCJ3YXJuIiwiZXJyb3IiLCJlcnIiLCJlcnJDb2RlIiwib25FcnJvciIsImlzRW5kZWQiLCJ1bmRlZmluZWQiLCJvbkNsb3NlIiwibG9hZCIsInN0YXJ0UmVjb3JkIiwiX29uTmF0dXJlQ2xvc2UiLCJnZXRHYW1lUmVjb3JkZXJNYW5hZ2VyIiwib25TdGFydCIsIm9uU3RvcCIsInN0YXJ0IiwiZHVyYXRpb24iLCJwYXVzZVJlY29yZCIsIm9uUGF1c2UiLCJwYXVzZSIsInJlc3VtZVJlY29yZCIsIm9uUmVzdW1lIiwicmVzdW1lIiwic3RvcFJlY29yZCIsInN0b3AiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLElBQUlBLElBQUksR0FBRyxFQUFYO0FBRUEsSUFBSUMsV0FBVyxHQUFHO0FBQ2pCQyxFQUFBQSxTQUFTLEVBQUU7QUFETSxDQUFsQjtBQUlBRixJQUFJLENBQUNHLFFBQUwsR0FBZ0IsSUFBaEI7QUFDQUgsSUFBSSxDQUFDSSxXQUFMLEdBQW1CLElBQW5CO0FBQ0FKLElBQUksQ0FBQ0ssT0FBTCxHQUFlLElBQWY7QUFDQUwsSUFBSSxDQUFDTSxRQUFMLEdBQWdCLElBQWhCO0FBQ0FOLElBQUksQ0FBQ08sZ0JBQUwsR0FBd0IsS0FBeEI7QUFDQSxJQUFJQyxVQUFVLEdBQUc7QUFDaEJDLEVBQUFBLFFBQVEsRUFBRTtBQURNLENBQWpCO0FBR0EsSUFBTUMsT0FBTyxHQUFHLHNEQUFoQjtBQUNBLElBQU1DLFdBQVcsR0FBR0QsT0FBTyxHQUFHLG9CQUE5QixFQUFrRDs7QUFDbEQsSUFBTUUsU0FBUyxHQUFHLENBQ2pCO0FBQUVDLEVBQUFBLEdBQUcsRUFBRSxDQUFQO0FBQVVDLEVBQUFBLEdBQUcsRUFBRTtBQUFmLENBRGlCLEVBRWpCO0FBQUVELEVBQUFBLEdBQUcsRUFBRSxDQUFQO0FBQVVDLEVBQUFBLEdBQUcsRUFBRTtBQUFmLENBRmlCLEVBR2pCO0FBQUVELEVBQUFBLEdBQUcsRUFBRSxDQUFQO0FBQVVDLEVBQUFBLEdBQUcsRUFBRTtBQUFmLENBSGlCLEVBSWpCO0FBQUVELEVBQUFBLEdBQUcsRUFBRSxDQUFQO0FBQVVDLEVBQUFBLEdBQUcsRUFBRTtBQUFmLENBSmlCLENBQWxCOztBQU1BZCxJQUFJLENBQUNlLGVBQUwsR0FBdUIsVUFBVUMsSUFBVixFQUFnQkMsWUFBaEIsRUFBOEJDLFdBQTlCLEVBQTJDO0FBQ2pFLE1BQUlDLEtBQUssR0FBRyx3QkFBWjtBQUNBLE1BQUlDLEtBQUssR0FBRyxJQUFaO0FBQ0EsTUFBSUMsSUFBSSxHQUFHLElBQVg7QUFDQSxNQUFJQyxHQUFHLEdBQUdDLEtBQUssQ0FBQ0MsZ0JBQU4sQ0FBdUJaLFNBQXZCLENBQVY7O0FBQ0EsTUFBSVUsR0FBSixFQUFTO0FBQ1JELElBQUFBLElBQUksR0FBR0MsR0FBRyxDQUFDUixHQUFYO0FBQ0FNLElBQUFBLEtBQUssR0FBRyxVQUFVSixJQUFWLEdBQWlCLFVBQWpCLEdBQThCRyxLQUFLLENBQUNOLEdBQTVDO0FBQ0E7O0FBQ0QsU0FBTztBQUNOTSxJQUFBQSxLQUFLLEVBQUVBLEtBREQ7QUFFTkUsSUFBQUEsSUFBSSxFQUFFQSxJQUZBO0FBR05ELElBQUFBLEtBQUssRUFBRUEsS0FIRDtBQUlOSyxJQUFBQSxRQUFRLEVBQUVkLFdBSko7QUFLTmUsSUFBQUEsT0FMTSxxQkFLSTtBQUNUQyxNQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxNQUFaO0FBQ0FYLE1BQUFBLFlBQVksSUFBSUEsWUFBWSxFQUE1QjtBQUNBLEtBUks7QUFTTlksSUFBQUEsSUFUTSxnQkFTREMsQ0FUQyxFQVNFO0FBQ1BILE1BQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLE1BQVo7QUFDQUQsTUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlFLENBQVo7QUFDQVosTUFBQUEsV0FBVyxJQUFJQSxXQUFXLEVBQTFCO0FBQ0E7QUFiSyxHQUFQO0FBZUEsQ0F4QkQ7O0FBeUJBbEIsSUFBSSxDQUFDK0IsaUJBQUwsR0FBeUIsVUFBVWQsWUFBVixFQUF3QkMsV0FBeEIsRUFBcUM7QUFDN0QsTUFBSWMsTUFBTSxDQUFDQyxFQUFYLEVBQWU7QUFDZEEsSUFBQUEsRUFBRSxDQUFDQyxlQUFILENBQW1CbEMsSUFBSSxDQUFDZSxlQUFMLENBQXFCLFdBQXJCLEVBQWtDRSxZQUFsQyxFQUFnREMsV0FBaEQsQ0FBbkI7QUFDQSxHQUZELE1BRU87QUFDTkQsSUFBQUEsWUFBWSxJQUFJQSxZQUFZLEVBQTVCO0FBQ0E7QUFDRCxDQU5EOztBQU9BakIsSUFBSSxDQUFDbUMsV0FBTCxHQUFtQixVQUFVQyxJQUFWLEVBQWdCbkIsWUFBaEIsRUFBOEJDLFdBQTlCLEVBQTJDO0FBQzdELE1BQUljLE1BQU0sQ0FBQ0ssRUFBWCxFQUFlO0FBQ2Q7QUFDQSxRQUFJbEIsS0FBSyxHQUFHLHdCQUFaO0FBQ0EsUUFBSUMsS0FBSyxHQUFHLElBQVo7QUFDQSxRQUFJQyxJQUFJLEdBQUcsSUFBWDtBQUNBLFFBQUlDLEdBQUcsR0FBR0MsS0FBSyxDQUFDQyxnQkFBTixDQUF1QlosU0FBdkIsQ0FBVjs7QUFDQSxRQUFJVSxHQUFKLEVBQVM7QUFDUkQsTUFBQUEsSUFBSSxHQUFHQyxHQUFHLENBQUNSLEdBQVg7QUFDQU0sTUFBQUEsS0FBSyxHQUFHLGVBQWUsVUFBZixHQUE0QkQsS0FBSyxDQUFDTixHQUExQztBQUNBOztBQUNEd0IsSUFBQUEsRUFBRSxDQUFDSCxlQUFILENBQW1CO0FBQ2xCSSxNQUFBQSxPQUFPLEVBQUUsT0FEUztBQUVsQm5CLE1BQUFBLEtBQUssRUFBRUEsS0FGVztBQUdsQkUsTUFBQUEsSUFBSSxFQUFFQSxJQUhZO0FBSWxCSSxNQUFBQSxRQUFRLEVBQUVkLFdBSlE7QUFJSTtBQUN0QjRCLE1BQUFBLFVBQVUsRUFBRSxFQUxNO0FBTWxCbkIsTUFBQUEsS0FBSyxFQUFFQSxLQU5XO0FBT2xCb0IsTUFBQUEsS0FBSyxFQUFFO0FBQ05DLFFBQUFBLFNBQVMsRUFBRUwsSUFETDtBQUNXO0FBQ2pCTSxRQUFBQSxXQUFXLEVBQUUsQ0FBQyxRQUFELEVBQVcsS0FBWCxDQUZQO0FBR05DLFFBQUFBLGVBQWUsRUFBRTtBQUhYLE9BUFc7QUFZbEJqQixNQUFBQSxPQVprQixxQkFZUjtBQUNUQyxRQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxRQUFaO0FBQ0FYLFFBQUFBLFlBQVksSUFBSUEsWUFBWSxFQUE1QjtBQUNBLE9BZmlCO0FBZ0JsQlksTUFBQUEsSUFoQmtCLGdCQWdCYkMsQ0FoQmEsRUFnQlY7QUFDUEgsUUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksUUFBWjtBQUNBRCxRQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWUUsQ0FBWjtBQUNBWixRQUFBQSxXQUFXLElBQUlBLFdBQVcsRUFBMUI7QUFDQTtBQXBCaUIsS0FBbkI7QUF3QkE7QUFDRCxDQXBDRDs7QUFxQ0FsQixJQUFJLENBQUNFLFNBQUwsR0FBaUIsVUFBVTBDLEdBQVYsRUFBZUMsR0FBZixFQUFvQkMsVUFBcEIsRUFBZ0NDLEtBQWhDLEVBQXVDO0FBQ3ZELE1BQUlmLE1BQU0sQ0FBQ0ssRUFBUCxJQUFhLElBQWpCLEVBQXVCO0FBQ3RCO0FBQ0E7O0FBQ0QsTUFBSVcsS0FBSyxHQUFHWCxFQUFFLENBQUNZLGlCQUFILEVBQVo7QUFDQSxNQUFJQyxDQUFDLEdBQUdGLEtBQUssQ0FBQ0csV0FBZDtBQUNBLE1BQUlDLENBQUMsR0FBR0osS0FBSyxDQUFDSyxZQUFkOztBQUNBLE1BQUlyRCxJQUFJLENBQUNHLFFBQVQsRUFBbUI7QUFDbEJILElBQUFBLElBQUksQ0FBQ0csUUFBTCxDQUFjbUQsT0FBZDtBQUNBM0IsSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksd0JBQVo7QUFDQSxHQUhELE1BR087QUFDTkQsSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksNEJBQVo7QUFDQTs7QUFDRCxNQUFJMkIsUUFBUSxHQUFHbEIsRUFBRSxDQUFDbUIsY0FBSCxDQUFrQjtBQUNoQ0MsSUFBQUEsUUFBUSxFQUFFeEQsV0FBVyxDQUFDMkMsR0FBRCxDQURXO0FBRWhDYyxJQUFBQSxLQUFLLEVBQUViO0FBRnlCLEdBQWxCLENBQWY7QUFJQTdDLEVBQUFBLElBQUksQ0FBQ0csUUFBTCxHQUFnQm9ELFFBQWhCO0FBQ0FBLEVBQUFBLFFBQVEsQ0FBQ0ksTUFBVCxDQUFnQixZQUFNO0FBQ3JCaEMsSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksZUFBWjtBQUNBNUIsSUFBQUEsSUFBSSxDQUFDRyxRQUFMLENBQWN5RCxJQUFkLEdBQXFCQyxJQUFyQixDQUEwQixZQUFNO0FBQy9CbEMsTUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksUUFBWjtBQUNBLEtBRkQ7QUFHQSxHQUxELEVBbEJ1RCxDQXdCdkQ7QUFDQTs7QUFDQTJCLEVBQUFBLFFBQVEsQ0FBQ08sUUFBVCxDQUFrQixVQUFBQyxJQUFJLEVBQUk7QUFDekI7QUFDQTtBQUNBLFFBQUlBLElBQUksQ0FBQ0MsS0FBTCxJQUFjLENBQWxCLEVBQXFCO0FBQ3JCLFFBQUlELElBQUksQ0FBQ0UsTUFBTCxJQUFlLENBQW5CLEVBQXNCLE9BSkcsQ0FNekI7O0FBQ0EsUUFBSSxPQUFPRixJQUFJLENBQUNDLEtBQWhCLEVBQXVCO0FBQ3RCVCxNQUFBQSxRQUFRLENBQUNHLEtBQVQsQ0FBZVEsR0FBZixHQUFxQmQsQ0FBQyxHQUFJVyxJQUFJLENBQUNFLE1BQS9CO0FBQ0FWLE1BQUFBLFFBQVEsQ0FBQ0csS0FBVCxDQUFlUyxJQUFmLEdBQXNCLENBQUNqQixDQUFDLEdBQUdhLElBQUksQ0FBQ0MsS0FBVixJQUFtQixDQUF6QztBQUNBO0FBQ0QsR0FYRCxFQTFCdUQsQ0FzQ3ZEO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUEsQ0F4REQ7O0FBeURBaEUsSUFBSSxDQUFDb0UsWUFBTCxHQUFvQixZQUFZO0FBQy9CLE1BQUlwQyxNQUFNLENBQUNLLEVBQVAsSUFBYSxJQUFqQixFQUF1QjtBQUN0QjtBQUNBOztBQUNELE1BQUlyQyxJQUFJLENBQUNHLFFBQVQsRUFBbUI7QUFDbEJILElBQUFBLElBQUksQ0FBQ0csUUFBTCxDQUFja0UsSUFBZDtBQUNBMUMsSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksY0FBWjtBQUNBO0FBQ0QsQ0FSRCxFQVNBOzs7QUFDQTVCLElBQUksQ0FBQ3NFLGNBQUwsR0FBc0IsVUFBVUMsSUFBVixFQUFnQjtBQUNyQyxNQUFJdkMsTUFBTSxDQUFDSyxFQUFYLEVBQWU7QUFDZCxRQUFJVyxLQUFLLEdBQUdYLEVBQUUsQ0FBQ1ksaUJBQUgsRUFBWjtBQUNBLFFBQUlDLENBQUMsR0FBR0YsS0FBSyxDQUFDRyxXQUFkO0FBQ0EsUUFBSUMsQ0FBQyxHQUFHSixLQUFLLENBQUNLLFlBQWQ7QUFDQXJELElBQUFBLElBQUksQ0FBQ0ksV0FBTCxHQUFtQmlDLEVBQUUsQ0FBQ21DLHFCQUFILENBQXlCO0FBQzNDQyxNQUFBQSxJQUFJLEVBQUUsT0FEcUM7QUFFM0NDLE1BQUFBLEtBQUssRUFBRUgsSUFGb0M7QUFHM0NiLE1BQUFBLEtBQUssRUFBRTtBQUNOUyxRQUFBQSxJQUFJLEVBQUUsRUFEQTtBQUVORCxRQUFBQSxHQUFHLEVBQUUsRUFGQztBQUdORixRQUFBQSxLQUFLLEVBQUUsRUFIRDtBQUlOQyxRQUFBQSxNQUFNLEVBQUUsRUFKRjtBQUtOVSxRQUFBQSxVQUFVLEVBQUUsRUFMTjtBQU1OQyxRQUFBQSxlQUFlLEVBQUUsRUFOWDtBQU9OQyxRQUFBQSxTQUFTLEVBQUUsRUFQTDtBQVFOQyxRQUFBQSxTQUFTLEVBQUUsUUFSTDtBQVNOQyxRQUFBQSxRQUFRLEVBQUUsRUFUSjtBQVVOQyxRQUFBQSxZQUFZLEVBQUUsQ0FWUjtBQVdOQyxRQUFBQSxXQUFXLEVBQUUsQ0FYUDtBQVlOQyxRQUFBQSxXQUFXLEVBQUU7QUFaUCxPQUhvQztBQWlCM0NDLE1BQUFBLGdCQUFnQixFQUFFLENBQ2pCO0FBQ0NDLFFBQUFBLEtBQUssRUFBRSxVQURSO0FBRUNoRSxRQUFBQSxLQUFLLEVBQUUsaUJBRlI7QUFHQ2lFLFFBQUFBLFNBQVMsRUFBRTtBQUhaLE9BRGlCLENBTWpCO0FBTmlCLE9BakJ5QjtBQXlCM0NDLE1BQUFBLG9CQXpCMkMsZ0NBeUJ0QkMsR0F6QnNCLEVBeUJqQjtBQUN6QjVELFFBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLFNBQVosRUFBdUIyRCxHQUF2QjtBQUNBO0FBM0IwQyxLQUF6QixDQUFuQjtBQTZCQTVELElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZNUIsSUFBSSxDQUFDSSxXQUFqQixFQWpDYyxDQWtDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0QsQ0F4Q0Q7O0FBeUNBSixJQUFJLENBQUN3RixnQkFBTCxHQUF3QixZQUFZO0FBQ25DeEYsRUFBQUEsSUFBSSxDQUFDSSxXQUFMLENBQWlCa0QsT0FBakI7QUFDQSxDQUZEOztBQUdBdEQsSUFBSSxDQUFDUyxRQUFMLEdBQWdCLFVBQVVtQyxHQUFWLEVBQWUzQixZQUFmLEVBQTZCQyxXQUE3QixFQUEwQztBQUN6RCxNQUFJYyxNQUFNLENBQUNLLEVBQVAsSUFBYSxJQUFqQixFQUF1QjtBQUN0QjtBQUNBOztBQUVEckMsRUFBQUEsSUFBSSxDQUFDSyxPQUFMLEdBQWVnQyxFQUFFLENBQUNvRCxxQkFBSCxDQUF5QjtBQUN2Q2hDLElBQUFBLFFBQVEsRUFBRWpELFVBQVUsQ0FBQ29DLEdBQUQ7QUFEbUIsR0FBekIsQ0FBZjs7QUFJQSxNQUFJO0FBQ0gsUUFBSTVDLElBQUksQ0FBQ0ssT0FBTCxDQUFhcUYsU0FBakIsRUFBNEI7QUFDM0IvRCxNQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxVQUFaO0FBQ0E1QixNQUFBQSxJQUFJLENBQUNLLE9BQUwsQ0FBYXNGLFFBQWIsQ0FBc0IzRixJQUFJLENBQUNLLE9BQUwsQ0FBYXFGLFNBQW5DO0FBQ0E7O0FBQ0QsUUFBSTFGLElBQUksQ0FBQ0ssT0FBTCxDQUFhdUYsU0FBakIsRUFBNEI7QUFDM0JqRSxNQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxVQUFaO0FBQ0E1QixNQUFBQSxJQUFJLENBQUNLLE9BQUwsQ0FBYXdGLFFBQWIsQ0FBc0I3RixJQUFJLENBQUNLLE9BQUwsQ0FBYXVGLFNBQW5DO0FBQ0E7QUFDRCxHQVRELENBU0UsT0FBTzlELENBQVAsRUFBVTtBQUNYSCxJQUFBQSxPQUFPLENBQUNtRSxJQUFSLENBQWEsbURBQWI7QUFDQW5FLElBQUFBLE9BQU8sQ0FBQ29FLEtBQVIsQ0FBY2pFLENBQWQ7QUFDQTs7QUFFRDlCLEVBQUFBLElBQUksQ0FBQ0ssT0FBTCxDQUFhcUYsU0FBYixHQUF5QixVQUFVTSxHQUFWLEVBQWU7QUFDdkNyRSxJQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWW9FLEdBQVo7O0FBQ0EsUUFBSUEsR0FBRyxDQUFDQyxPQUFKLElBQWUsSUFBbkIsRUFBeUI7QUFDeEJoRixNQUFBQSxZQUFZLElBQUlBLFlBQVksQ0FBQyxRQUFELENBQTVCO0FBQ0EsS0FGRCxNQUVPO0FBQ05BLE1BQUFBLFlBQVksSUFBSUEsWUFBWSxDQUFDLFNBQUQsQ0FBNUI7QUFDQTtBQUNELEdBUEQ7O0FBUUFqQixFQUFBQSxJQUFJLENBQUNLLE9BQUwsQ0FBYTZGLE9BQWIsQ0FBcUJsRyxJQUFJLENBQUNLLE9BQUwsQ0FBYXFGLFNBQWxDOztBQUNBMUYsRUFBQUEsSUFBSSxDQUFDSyxPQUFMLENBQWF1RixTQUFiLEdBQXlCLFVBQVVMLEdBQVYsRUFBZTtBQUN2QzVELElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGNBQVo7O0FBQ0EsUUFBSTJELEdBQUcsSUFBSUEsR0FBRyxDQUFDWSxPQUFYLElBQXNCWixHQUFHLEtBQUthLFNBQWxDLEVBQTZDO0FBQzVDO0FBQ0F6RSxNQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxNQUFaO0FBQ0FYLE1BQUFBLFlBQVksSUFBSUEsWUFBWSxFQUE1QjtBQUNBLEtBSkQsTUFJTztBQUNOVSxNQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxNQUFaO0FBQ0FWLE1BQUFBLFdBQVcsSUFBSUEsV0FBVyxFQUExQjtBQUNBO0FBQ0QsR0FWRDs7QUFXQWxCLEVBQUFBLElBQUksQ0FBQ0ssT0FBTCxDQUFhZ0csT0FBYixDQUFxQnJHLElBQUksQ0FBQ0ssT0FBTCxDQUFhdUYsU0FBbEM7QUFHQTVGLEVBQUFBLElBQUksQ0FBQ0ssT0FBTCxDQUFhdUQsSUFBYixZQUEwQixZQUFNO0FBQy9CO0FBQ0E1RCxJQUFBQSxJQUFJLENBQUNLLE9BQUwsQ0FBYWlHLElBQWIsR0FDRXpDLElBREYsQ0FDTztBQUFBLGFBQU03RCxJQUFJLENBQUNLLE9BQUwsQ0FBYXVELElBQWIsRUFBTjtBQUFBLEtBRFAsV0FFUSxVQUFBb0MsR0FBRyxFQUFJO0FBQ2JyRSxNQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxjQUFaO0FBQ0EsS0FKRjtBQUtBLEdBUEQ7QUFTQSxDQXZERDs7QUF3REE1QixJQUFJLENBQUN1RyxXQUFMLEdBQW1CLFVBQVV4RCxLQUFWLEVBQWlCeUQsY0FBakIsRUFBaUM7QUFDbkQsTUFBSXhFLE1BQU0sQ0FBQ0ssRUFBUCxJQUFhLElBQWpCLEVBQXVCO0FBQ3RCO0FBQ0E7O0FBQ0RyQyxFQUFBQSxJQUFJLENBQUNNLFFBQUwsR0FBZ0IrQixFQUFFLENBQUNvRSxzQkFBSCxFQUFoQjtBQUNBekcsRUFBQUEsSUFBSSxDQUFDTSxRQUFMLENBQWNvRyxPQUFkLENBQXNCLFVBQUFuQixHQUFHLEVBQUk7QUFDNUI1RCxJQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxNQUFaO0FBQ0E1QixJQUFBQSxJQUFJLENBQUNPLGdCQUFMLEdBQXdCLEtBQXhCO0FBQ0F3QyxJQUFBQSxLQUFLLElBQUlBLEtBQUssRUFBZDtBQUNBLEdBSkQ7QUFLQS9DLEVBQUFBLElBQUksQ0FBQ00sUUFBTCxDQUFjcUcsTUFBZCxDQUFxQixVQUFBcEIsR0FBRyxFQUFJO0FBQzNCNUQsSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksUUFBWjtBQUNBNUIsSUFBQUEsSUFBSSxDQUFDTyxnQkFBTCxHQUF3QixJQUF4QjtBQUNBaUcsSUFBQUEsY0FBYyxJQUFJQSxjQUFjLENBQUNqQixHQUFELENBQWhDO0FBQ0EsR0FKRDtBQUtBdkYsRUFBQUEsSUFBSSxDQUFDTSxRQUFMLENBQWM0RixPQUFkLENBQXNCLFVBQUFYLEdBQUcsRUFBSTtBQUM1QjVELElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLE1BQVo7QUFDQSxHQUZEO0FBR0E1QixFQUFBQSxJQUFJLENBQUNNLFFBQUwsQ0FBY3NHLEtBQWQsQ0FBb0I7QUFDbkJDLElBQUFBLFFBQVEsRUFBRTtBQURTLEdBQXBCO0FBR0EsQ0FyQkQ7O0FBc0JBN0csSUFBSSxDQUFDOEcsV0FBTCxHQUFtQixVQUFVL0QsS0FBVixFQUFpQjtBQUNuQy9DLEVBQUFBLElBQUksQ0FBQ00sUUFBTCxDQUFjeUcsT0FBZCxDQUFzQixVQUFBeEIsR0FBRyxFQUFJO0FBQzVCNUQsSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksTUFBWjtBQUNBbUIsSUFBQUEsS0FBSyxJQUFJQSxLQUFLLEVBQWQ7QUFDQSxHQUhEO0FBS0EvQyxFQUFBQSxJQUFJLENBQUNNLFFBQUwsQ0FBYzBHLEtBQWQ7QUFDQSxDQVBEOztBQVFBaEgsSUFBSSxDQUFDaUgsWUFBTCxHQUFvQixVQUFVbEUsS0FBVixFQUFpQjtBQUNwQy9DLEVBQUFBLElBQUksQ0FBQ00sUUFBTCxDQUFjNEcsUUFBZCxDQUF1QixVQUFBM0IsR0FBRyxFQUFJO0FBQzdCNUQsSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksTUFBWjtBQUNBbUIsSUFBQUEsS0FBSyxJQUFJQSxLQUFLLEVBQWQ7QUFDQSxHQUhEO0FBS0EvQyxFQUFBQSxJQUFJLENBQUNNLFFBQUwsQ0FBYzZHLE1BQWQ7QUFDQSxDQVBEOztBQVFBbkgsSUFBSSxDQUFDb0gsVUFBTCxHQUFrQixVQUFVckUsS0FBVixFQUFpQjtBQUNsQyxNQUFJL0MsSUFBSSxDQUFDTyxnQkFBVCxFQUEyQjtBQUMxQndDLElBQUFBLEtBQUssSUFBSUEsS0FBSyxFQUFkO0FBQ0E7QUFDQTs7QUFDRC9DLEVBQUFBLElBQUksQ0FBQ00sUUFBTCxDQUFjcUcsTUFBZCxDQUFxQixVQUFBcEIsR0FBRyxFQUFJO0FBQzNCNUQsSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksTUFBWixFQUQyQixDQUUzQjs7QUFDQW1CLElBQUFBLEtBQUssSUFBSUEsS0FBSyxDQUFDd0MsR0FBRCxDQUFkO0FBQ0EsR0FKRDtBQU1BdkYsRUFBQUEsSUFBSSxDQUFDTSxRQUFMLENBQWMrRyxJQUFkO0FBQ0EsQ0FaRDs7QUFlQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCdkgsSUFBakIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImxldCB1dGlsID0ge31cblxubGV0IGJhbm5lcklkVGFiID0ge1xuXHRhZGRCYW5uZXI6IFwiNTAza2hrajU0bDVtMWo2aTBpXCJcbn07XG5cbnV0aWwubV9iYW5uZXIgPSBudWxsXG51dGlsLm1vcmVnYW1lQnRuID0gbnVsbFxudXRpbC52ZWRpb0FkID0gbnVsbFxudXRpbC5yZWNvcmRlciA9IG51bGxcbnV0aWwucmVjb3JkTmF0dXJlU3RvcCA9IGZhbHNlXG5sZXQgdmVkaW9JZFRhYiA9IHtcblx0YWRkVmlkZW86IFwiaTJuZDA4a2k5cDcyM3B0Mms0XCJcbn1cbmNvbnN0IGJhc2V1cmwgPSBcImh0dHBzOi8vZWN3eC0xMjU3MDQ0MjE4LmNvcy5hcC1jaGVuZ2R1Lm15cWNsb3VkLmNvbS9cIlxuY29uc3Qgc2hhcmVJbWdVcmwgPSBiYXNldXJsICsgXCJiaW5nb2JhbGxzaGFyZS5qcGdcIi8vIFwiaHR0cDovL2ltZzUuaW1ndG4uYmRpbWcuY29tL2l0L3U9MjAwMTU0Nzg0MiwxMzQ5MjE3ODkzJmZtPTI2JmdwPTAuanBnXCJcbmNvbnN0IHNoYXJlVHh0cyA9IFtcblx0eyBpZHg6IDEsIHR4dDogXCLku5bmi7/otbfllrflrZDkuIDmoq3lrZDlsLHnu5nmiJHluKbotbDkuobjgILjgILjgIJcIiB9LFxuXHR7IGlkeDogMiwgdHh0OiBcIuiAgeadv+acieayoeacieWKoOeJueael++8jOWTkuWTkuWTkuWGkuiTneeBq+mCo+enjVwiIH0sXG5cdHsgaWR4OiAzLCB0eHQ6IFwi6bih5ZCD5pKR5LqG77yM5q2H5Lya5YS/XCIgfSxcblx0eyBpZHg6IDQsIHR4dDogXCLov5nph4znmoTlprnlrZDnnJ9R5by577yM5bCx5piv5aW55LqG77yBXCIgfSxcbl1cbnV0aWwuX2dldFNoYXJlT2JqZWN0ID0gZnVuY3Rpb24gKGZyb20sIF9jYWxsU3VjY2VzcywgX2NhbGxGYWlsZWQpIHtcblx0bGV0IHRpdGxlID0gXCLlj7LkuIrmnIDpmr7nmoTmuLjmiI/vvIznjqnov4fnmoTkurrpg73or7TmmKXov5DmiqLnpajkuI3nrpfpmr7vvIFcIlxuXHRsZXQgcXVlcnkgPSBudWxsXG5cdGxldCBkZXNjID0gbnVsbFxuXHRsZXQgb2JqID0gVG9vbHMuZ2V0UmFuZG9tRWxlbWVudChzaGFyZVR4dHMpXG5cdGlmIChvYmopIHtcblx0XHRkZXNjID0gb2JqLnR4dFxuXHRcdHF1ZXJ5ID0gXCJmcm9tPVwiICsgZnJvbSArIFwiJnR4dF9pZD1cIiArIHRpdGxlLmlkeFxuXHR9XG5cdHJldHVybiB7XG5cdFx0dGl0bGU6IHRpdGxlLFxuXHRcdGRlc2M6IGRlc2MsXG5cdFx0cXVlcnk6IHF1ZXJ5LFxuXHRcdGltYWdlVXJsOiBzaGFyZUltZ1VybCxcblx0XHRzdWNjZXNzKCkge1xuXHRcdFx0Y29uc29sZS5sb2coJ+WIhuS6q+aIkOWKnycpO1xuXHRcdFx0X2NhbGxTdWNjZXNzICYmIF9jYWxsU3VjY2VzcygpXG5cdFx0fSxcblx0XHRmYWlsKGUpIHtcblx0XHRcdGNvbnNvbGUubG9nKCfliIbkuqvlpLHotKUnKTtcblx0XHRcdGNvbnNvbGUubG9nKGUpXG5cdFx0XHRfY2FsbEZhaWxlZCAmJiBfY2FsbEZhaWxlZCgpXG5cdFx0fVxuXHR9XG59XG51dGlsLnNoYXJlRnJvbUhvbWVQYWdlID0gZnVuY3Rpb24gKF9jYWxsU3VjY2VzcywgX2NhbGxGYWlsZWQpIHtcblx0aWYgKHdpbmRvdy53eCkge1xuXHRcdHd4LnNoYXJlQXBwTWVzc2FnZSh1dGlsLl9nZXRTaGFyZU9iamVjdChcImhvbWVfcGFnZVwiLCBfY2FsbFN1Y2Nlc3MsIF9jYWxsRmFpbGVkKSlcblx0fSBlbHNlIHtcblx0XHRfY2FsbFN1Y2Nlc3MgJiYgX2NhbGxTdWNjZXNzKClcblx0fVxufVxudXRpbC5zaGFyZVJlY29yZCA9IGZ1bmN0aW9uIChwYXRoLCBfY2FsbFN1Y2Nlc3MsIF9jYWxsRmFpbGVkKSB7XG5cdGlmICh3aW5kb3cudHQpIHtcblx0XHQvLyB0dC5zaGFyZUFwcE1lc3NhZ2UodXRpbC5fZ2V0U2hhcmVPYmplY3QoXCJob21lX3BhZ2VcIikpXG5cdFx0bGV0IHRpdGxlID0gXCLlj7LkuIrmnIDpmr7nmoTmuLjmiI/vvIznjqnov4fnmoTkurrpg73or7TmmKXov5DmiqLnpajkuI3nrpfpmr7vvIFcIlxuXHRcdGxldCBxdWVyeSA9IG51bGxcblx0XHRsZXQgZGVzYyA9IG51bGxcblx0XHRsZXQgb2JqID0gVG9vbHMuZ2V0UmFuZG9tRWxlbWVudChzaGFyZVR4dHMpXG5cdFx0aWYgKG9iaikge1xuXHRcdFx0ZGVzYyA9IG9iai50eHRcblx0XHRcdHF1ZXJ5ID0gXCJmcm9tPXNoYXJlXCIgKyBcIiZ0eHRfaWQ9XCIgKyB0aXRsZS5pZHhcblx0XHR9XG5cdFx0dHQuc2hhcmVBcHBNZXNzYWdlKHtcblx0XHRcdGNoYW5uZWw6ICd2aWRlbycsXG5cdFx0XHR0aXRsZTogdGl0bGUsXG5cdFx0XHRkZXNjOiBkZXNjLFxuXHRcdFx0aW1hZ2VVcmw6IHNoYXJlSW1nVXJsLC8v5pS+5YWl5LiO5ri45oiP55u45YWz55qE55m+5bqm5Zu+54mHXG5cdFx0XHR0ZW1wbGF0ZUlkOiAnJyxcblx0XHRcdHF1ZXJ5OiBxdWVyeSxcblx0XHRcdGV4dHJhOiB7XG5cdFx0XHRcdHZpZGVvUGF0aDogcGF0aCwgLy8g5o2i5oiQ5b2V5bGP5b6X5Yiw55qE6KeG6aKR5Zyw5Z2AXG5cdFx0XHRcdHZpZGVvVG9waWNzOiBbJ+WFqOawkeWIuua/gOWQg+m4oScsICflsI/muLjmiI8nXSxcblx0XHRcdFx0Y3JlYXRlQ2hhbGxlbmdlOiB0cnVlXG5cdFx0XHR9LFxuXHRcdFx0c3VjY2VzcygpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coJ+WIhuS6q+inhumikeaIkOWKnycpO1xuXHRcdFx0XHRfY2FsbFN1Y2Nlc3MgJiYgX2NhbGxTdWNjZXNzKClcblx0XHRcdH0sXG5cdFx0XHRmYWlsKGUpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coJ+WIhuS6q+inhumikeWksei0pScpO1xuXHRcdFx0XHRjb25zb2xlLmxvZyhlKVxuXHRcdFx0XHRfY2FsbEZhaWxlZCAmJiBfY2FsbEZhaWxlZCgpXG5cdFx0XHR9XG5cdFx0fSlcblxuXG5cdH1cbn1cbnV0aWwuYWRkQmFubmVyID0gZnVuY3Rpb24gKF9pZCwgX3N5LCBfV2luSGVpZ2h0LCBfY2FsbCkge1xuXHRpZiAod2luZG93LnR0ID09IG51bGwpIHtcblx0XHRyZXR1cm5cblx0fVxuXHR2YXIgcGhvbmUgPSB0dC5nZXRTeXN0ZW1JbmZvU3luYygpO1xuXHR2YXIgdyA9IHBob25lLnNjcmVlbldpZHRoXG5cdHZhciBoID0gcGhvbmUuc2NyZWVuSGVpZ2h0O1xuXHRpZiAodXRpbC5tX2Jhbm5lcikge1xuXHRcdHV0aWwubV9iYW5uZXIuZGVzdHJveSgpXG5cdFx0Y29uc29sZS5sb2coXCJtX2Jhbm5lciBpcyBoYXMgY3JlYXRlXCIpXG5cdH0gZWxzZSB7XG5cdFx0Y29uc29sZS5sb2coXCJtX2Jhbm5lciBpcyBoYXMgbm90IGNyZWF0ZVwiKVxuXHR9XG5cdGxldCBiYW5uZXJBZCA9IHR0LmNyZWF0ZUJhbm5lckFkKHtcblx0XHRhZFVuaXRJZDogYmFubmVySWRUYWJbX2lkXSxcblx0XHRzdHlsZTogX3N5XG5cdH0pO1xuXHR1dGlsLm1fYmFubmVyID0gYmFubmVyQWRcblx0YmFubmVyQWQub25Mb2FkKCgpID0+IHtcblx0XHRjb25zb2xlLmxvZyhcImJhbm5lckFkIOWKoOi9veaIkOWKn1wiKVxuXHRcdHV0aWwubV9iYW5uZXIuc2hvdygpLnRoZW4oKCkgPT4ge1xuXHRcdFx0Y29uc29sZS5sb2coXCLlub/lkYrmmL7npLrmiJDlip9cIik7XG5cdFx0fSlcblx0fSk7XG5cdC8vIOWwuuWvuOiwg+aVtOaXtuS8muinpuWPkeWbnuiwg1xuXHQvLyDms6jmhI/vvJrlpoLmnpzlnKjlm57osIPph4zlho3mrKHosIPmlbTlsLrlr7jvvIzopoHnoa7kv53kuI3opoHop6blj5Hmrbvlvqrnjq/vvIHvvIHvvIFcblx0YmFubmVyQWQub25SZXNpemUoc2l6ZSA9PiB7XG5cdFx0Ly8gY29uc29sZS5sb2coXCLph43nva5cIik7XG5cdFx0Ly8gY29uc29sZS5sb2coc2l6ZS53aWR0aCwgc2l6ZS5oZWlnaHQpO1xuXHRcdGlmIChzaXplLndpZHRoID09IDApIHJldHVybjtcblx0XHRpZiAoc2l6ZS5oZWlnaHQgPT0gMCkgcmV0dXJuO1xuXG5cdFx0Ly8g5aaC5p6c5LiA5byA5aeL6K6+572u55qEIGJhbm5lciDlrr3luqbotoXov4fkuobns7vnu5/pmZDliLbvvIzlj6/ku6XlnKjmraTlpITliqDku6XosIPmlbRcblx0XHRpZiAoMjAwICE9IHNpemUud2lkdGgpIHtcblx0XHRcdGJhbm5lckFkLnN0eWxlLnRvcCA9IGggLSAoc2l6ZS5oZWlnaHQpO1xuXHRcdFx0YmFubmVyQWQuc3R5bGUubGVmdCA9ICh3IC0gc2l6ZS53aWR0aCkgLyAyO1xuXHRcdH1cblx0fSk7XG5cdC8vIHV0aWwubV9iYW5uZXIub25FcnJvcihlcnIgPT4ge1xuXHQvLyBcdGNvbnNvbGUubG9nKGVycilcblx0Ly8gfSk7XG5cblx0Ly8gdXRpbC5tX2Jhbm5lci5zaG93KCkuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpLnRoZW4oKCkgPT4ge1xuXHQvLyBcdGNvbnNvbGUubG9nKFwiYmFubmVyIHNob3cgc3VjY2Vzc1wiKTtcblx0Ly8gXHRpZiAoX2NhbGwpIHtcblx0Ly8gXHRcdF9jYWxsKCk7XG5cdC8vIFx0fVxuXHQvLyB9KTtcblx0Ly8gdXRpbC5tX2Jhbm5lci5vblJlc2l6ZShyZXMgPT4ge1xuXHQvLyBcdGNvbnNvbGUubG9nKFwiYmFubmVyQWQgb25SZXNpemUgYmFubmVyQWQuc3R5bGUucmVhbEhlaWdodDpcIiArIHV0aWwubV9iYW5uZXIuc3R5bGUucmVhbEhlaWdodClcblx0Ly8gXHRjb25zb2xlLmxvZyhcImJhbm5lckFkIG9uUmVzaXplIGJhbm5lckFkLnN0eWxlLnRvcDpcIiArIHV0aWwubV9iYW5uZXIuc3R5bGUudG9wKVxuXHQvLyBcdHV0aWwubV9iYW5uZXIuc3R5bGUubGVmdCA9IHcgLSB1dGlsLm1fYmFubmVyLnN0eWxlLnJlYWxXaWR0aCAvIDIgKyAwLjFcblx0Ly8gXHR1dGlsLm1fYmFubmVyLnN0eWxlLnRvcCA9IGggLSB1dGlsLm1fYmFubmVyLnN0eWxlLnJlYWxIZWlnaHQgLSAxMFxuXHQvLyBcdHV0aWwubV9iYW5uZXIuc3R5bGUud2lkdGggPSB1dGlsLm1fYmFubmVyLnN0eWxlLnJlYWxXaWR0aFxuXHQvLyB9KVxuXG59XG51dGlsLnJlbW92ZUJhbm5lciA9IGZ1bmN0aW9uICgpIHtcblx0aWYgKHdpbmRvdy50dCA9PSBudWxsKSB7XG5cdFx0cmV0dXJuXG5cdH1cblx0aWYgKHV0aWwubV9iYW5uZXIpIHtcblx0XHR1dGlsLm1fYmFubmVyLmhpZGUoKVxuXHRcdGNvbnNvbGUubG9nKFwicmVtb3ZlQmFubmVyXCIpXG5cdH1cbn1cbi8v5LiN55SoXG51dGlsLmFkZE1vcmVHYW1lQnRuID0gZnVuY3Rpb24gKF91cmwpIHtcblx0aWYgKHdpbmRvdy50dCkge1xuXHRcdHZhciBwaG9uZSA9IHR0LmdldFN5c3RlbUluZm9TeW5jKCk7XG5cdFx0dmFyIHcgPSBwaG9uZS5zY3JlZW5XaWR0aFxuXHRcdHZhciBoID0gcGhvbmUuc2NyZWVuSGVpZ2h0O1xuXHRcdHV0aWwubW9yZWdhbWVCdG4gPSB0dC5jcmVhdGVNb3JlR2FtZXNCdXR0b24oe1xuXHRcdFx0dHlwZTogXCJpbWFnZVwiLFxuXHRcdFx0aW1hZ2U6IF91cmwsXG5cdFx0XHRzdHlsZToge1xuXHRcdFx0XHRsZWZ0OiAyMCxcblx0XHRcdFx0dG9wOiA1MCxcblx0XHRcdFx0d2lkdGg6IDUwLFxuXHRcdFx0XHRoZWlnaHQ6IDUwLFxuXHRcdFx0XHRsaW5lSGVpZ2h0OiA1MCxcblx0XHRcdFx0YmFja2dyb3VuZENvbG9yOiBcIlwiLFxuXHRcdFx0XHR0ZXh0Q29sb3I6IFwiXCIsXG5cdFx0XHRcdHRleHRBbGlnbjogXCJjZW50ZXJcIixcblx0XHRcdFx0Zm9udFNpemU6IDE2LFxuXHRcdFx0XHRib3JkZXJSYWRpdXM6IDAsXG5cdFx0XHRcdGJvcmRlcldpZHRoOiAwLFxuXHRcdFx0XHRib3JkZXJDb2xvcjogXCJcIlxuXHRcdFx0fSxcblx0XHRcdGFwcExhdW5jaE9wdGlvbnM6IFtcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGFwcElkOiBcInR0WFhYWFhYXCIsXG5cdFx0XHRcdFx0cXVlcnk6IFwiZm9vPWJhciZiYXo9cXV4XCIsXG5cdFx0XHRcdFx0ZXh0cmFEYXRhOiB7fVxuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIHsuLi59XG5cdFx0XHRdLFxuXHRcdFx0b25OYXZpZ2F0ZVRvTWluaUdhbWUocmVzKSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKFwi6Lez6L2s5YW25LuW5bCP5ri45oiPXCIsIHJlcyk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0Y29uc29sZS5sb2codXRpbC5tb3JlZ2FtZUJ0bilcblx0XHQvLyBUb29scy5zY2FsZVVwQW5kRG93bSh1dGlsLm1vcmVnYW1lQnRuLm5vZGUpXG5cdFx0Ly8gYnRuLm9uVGFwKCgpID0+IHtcblx0XHQvLyBcdGNvbnNvbGUubG9nKFwi54K55Ye75pu05aSa5ri45oiPXCIpO1xuXHRcdC8vIH0pO1xuXHR9XG59XG51dGlsLmNsb3NlTW9yZUdhbWVCdG4gPSBmdW5jdGlvbiAoKSB7XG5cdHV0aWwubW9yZWdhbWVCdG4uZGVzdHJveSgpXG59XG51dGlsLmFkZFZpZGVvID0gZnVuY3Rpb24gKF9pZCwgX2NhbGxTdWNjZXNzLCBfY2FsbEZhaWxlZCkge1xuXHRpZiAod2luZG93LnR0ID09IG51bGwpIHtcblx0XHRyZXR1cm5cblx0fVxuXG5cdHV0aWwudmVkaW9BZCA9IHR0LmNyZWF0ZVJld2FyZGVkVmlkZW9BZCh7XG5cdFx0YWRVbml0SWQ6IHZlZGlvSWRUYWJbX2lkXVxuXHR9KTtcblxuXHR0cnkge1xuXHRcdGlmICh1dGlsLnZlZGlvQWQuZXJyb3JGdW5jKSB7XG5cdFx0XHRjb25zb2xlLmxvZyhcIuWFs+mXreS6hmVycm9yXCIpXG5cdFx0XHR1dGlsLnZlZGlvQWQub2ZmRXJyb3IodXRpbC52ZWRpb0FkLmVycm9yRnVuYyk7XG5cdFx0fVxuXHRcdGlmICh1dGlsLnZlZGlvQWQuY2xvc2VGdW5jKSB7XG5cdFx0XHRjb25zb2xlLmxvZyhcIuWFs+mXreS6hmNsb3NlXCIpXG5cdFx0XHR1dGlsLnZlZGlvQWQub2ZmQ2xvc2UodXRpbC52ZWRpb0FkLmNsb3NlRnVuYyk7XG5cdFx0fVxuXHR9IGNhdGNoIChlKSB7XG5cdFx0Y29uc29sZS53YXJuKFwiLS0tLS0tLS0tLS0tLS12aWRlb0FkIG9mZkNsb3NlIG9yIG9mZkVycm9yIGVycm9yOlwiKTtcblx0XHRjb25zb2xlLmVycm9yKGUpO1xuXHR9XG5cblx0dXRpbC52ZWRpb0FkLmVycm9yRnVuYyA9IGZ1bmN0aW9uIChlcnIpIHtcblx0XHRjb25zb2xlLmxvZyhlcnIpXG5cdFx0aWYgKGVyci5lcnJDb2RlID09IDEwMDQpIHtcblx0XHRcdF9jYWxsU3VjY2VzcyAmJiBfY2FsbFN1Y2Nlc3MoXCLml6Dlj6/op4LnnIvop4bpopFcIik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdF9jYWxsU3VjY2VzcyAmJiBfY2FsbFN1Y2Nlc3MoXCLop4bpopHmnI3liqHlmajplJnor69cIik7XG5cdFx0fVxuXHR9O1xuXHR1dGlsLnZlZGlvQWQub25FcnJvcih1dGlsLnZlZGlvQWQuZXJyb3JGdW5jKTtcblx0dXRpbC52ZWRpb0FkLmNsb3NlRnVuYyA9IGZ1bmN0aW9uIChyZXMpIHtcblx0XHRjb25zb2xlLmxvZyhcIuaJp+ihjOS6hmNsb3NlRnVuY1wiKVxuXHRcdGlmIChyZXMgJiYgcmVzLmlzRW5kZWQgfHwgcmVzID09PSB1bmRlZmluZWQpIHtcblx0XHRcdC8vIHV0aWwudmVkaW9BZC5vZmZMb2FkKClcblx0XHRcdGNvbnNvbGUubG9nKFwi5pKt5pS+5a6M5LqGXCIpXG5cdFx0XHRfY2FsbFN1Y2Nlc3MgJiYgX2NhbGxTdWNjZXNzKCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnNvbGUubG9nKCfkuK3pgJTpgIDlh7onKVxuXHRcdFx0X2NhbGxGYWlsZWQgJiYgX2NhbGxGYWlsZWQoKVxuXHRcdH1cblx0fTtcblx0dXRpbC52ZWRpb0FkLm9uQ2xvc2UodXRpbC52ZWRpb0FkLmNsb3NlRnVuYyk7XG5cblxuXHR1dGlsLnZlZGlvQWQuc2hvdygpLmNhdGNoKCgpID0+IHtcblx0XHQvLyDlpLHotKXph43or5Vcblx0XHR1dGlsLnZlZGlvQWQubG9hZCgpXG5cdFx0XHQudGhlbigoKSA9PiB1dGlsLnZlZGlvQWQuc2hvdygpKVxuXHRcdFx0LmNhdGNoKGVyciA9PiB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCfmv4DlirHop4bpopFvcuW5v+WRiuaYvuekuuWksei0pScpXG5cdFx0XHR9KVxuXHR9KTtcblxufVxudXRpbC5zdGFydFJlY29yZCA9IGZ1bmN0aW9uIChfY2FsbCwgX29uTmF0dXJlQ2xvc2UpIHtcblx0aWYgKHdpbmRvdy50dCA9PSBudWxsKSB7XG5cdFx0cmV0dXJuXG5cdH1cblx0dXRpbC5yZWNvcmRlciA9IHR0LmdldEdhbWVSZWNvcmRlck1hbmFnZXIoKTtcblx0dXRpbC5yZWNvcmRlci5vblN0YXJ0KHJlcyA9PiB7XG5cdFx0Y29uc29sZS5sb2coJ+W9leWxj+W8gOWniycpO1xuXHRcdHV0aWwucmVjb3JkTmF0dXJlU3RvcCA9IGZhbHNlXG5cdFx0X2NhbGwgJiYgX2NhbGwoKVxuXHR9KVxuXHR1dGlsLnJlY29yZGVyLm9uU3RvcChyZXMgPT4ge1xuXHRcdGNvbnNvbGUubG9nKCflvZXlsY/oh6rnhLblgZzmraInKTtcblx0XHR1dGlsLnJlY29yZE5hdHVyZVN0b3AgPSB0cnVlXG5cdFx0X29uTmF0dXJlQ2xvc2UgJiYgX29uTmF0dXJlQ2xvc2UocmVzKVxuXHR9KVxuXHR1dGlsLnJlY29yZGVyLm9uRXJyb3IocmVzID0+IHtcblx0XHRjb25zb2xlLmxvZygn5b2V5bGP6ZSZ6K+vJyk7XG5cdH0pXG5cdHV0aWwucmVjb3JkZXIuc3RhcnQoe1xuXHRcdGR1cmF0aW9uOiAxMjAwLFxuXHR9KVxufTtcbnV0aWwucGF1c2VSZWNvcmQgPSBmdW5jdGlvbiAoX2NhbGwpIHtcblx0dXRpbC5yZWNvcmRlci5vblBhdXNlKHJlcyA9PiB7XG5cdFx0Y29uc29sZS5sb2coJ+W9leWxj+aaguWBnCcpO1xuXHRcdF9jYWxsICYmIF9jYWxsKClcblx0fSlcblxuXHR1dGlsLnJlY29yZGVyLnBhdXNlKClcbn07XG51dGlsLnJlc3VtZVJlY29yZCA9IGZ1bmN0aW9uIChfY2FsbCkge1xuXHR1dGlsLnJlY29yZGVyLm9uUmVzdW1lKHJlcyA9PiB7XG5cdFx0Y29uc29sZS5sb2coJ+W9leWxj+aBouWkjScpO1xuXHRcdF9jYWxsICYmIF9jYWxsKClcblx0fSlcblxuXHR1dGlsLnJlY29yZGVyLnJlc3VtZSgpXG59O1xudXRpbC5zdG9wUmVjb3JkID0gZnVuY3Rpb24gKF9jYWxsKSB7XG5cdGlmICh1dGlsLnJlY29yZE5hdHVyZVN0b3ApIHtcblx0XHRfY2FsbCAmJiBfY2FsbCgpXG5cdFx0cmV0dXJuO1xuXHR9XG5cdHV0aWwucmVjb3JkZXIub25TdG9wKHJlcyA9PiB7XG5cdFx0Y29uc29sZS5sb2coJ+W9leWxj+WBnOatoicpO1xuXHRcdC8vIHV0aWwucmVjb3JkUGF0aCA9IHJlcy52aWRlb1BhdGg7XG5cdFx0X2NhbGwgJiYgX2NhbGwocmVzKVxuXHR9KVxuXG5cdHV0aWwucmVjb3JkZXIuc3RvcCgpXG59O1xuXG5cbm1vZHVsZS5leHBvcnRzID0gdXRpbCJdfQ==