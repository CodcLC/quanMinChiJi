{"version":3,"sources":["assets\\scripts\\Tools.js"],"names":["window","Tools","addClickEvent","node","target","component","handler","customEventData","eventHandler","cc","Component","EventHandler","getComponent","Button","clickEvents","push","randomNum","minNum","maxNum","_float","Math","random","floor","getRandomElement","arr","num","length","i","getRandomAmountElementUnRepeat","amount","arrLength","desArr","nodeArr","indexArr","tempArr","temp","indexOf","isCrit","_num","result","getIndex","_arr","_obj","len","parseInt","removeArray","shift","pop","splice","pointOfRandom","point","radius_outer","radius_inner","x","y","isInRegion","p","v2","x_off","y_off","distance","isIntersect","p_outer","r_outer","p_inner","r_inner","parseFloat","sqrt","scaleUpAndDowm","isShining","light","runAction","repeatForever","sequence","scaleTo","easing","easeIn","fadeIn","fadeOut","shake","rotateTo","delayTime","jumpOneByOne","nodeNum","childrenCount","children","easeBackOut","toDateFormat","date","Date","getTime","year","getFullYear","month","getMonth","day","getDate","toTimeString2","s","hour","minute","ret","toTimeString","addNegativeCaculation","isNegative","rate","strName","calculation","n1","n2"],"mappings":"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","sourceRoot":"/","sourcesContent":["\r\n\r\nwindow.Tools = {\r\n    addClickEvent: function (node, target, component, handler, customEventData) {\r\n        // console.log(component + \":\" + handler);\r\n        var eventHandler = new cc.Component.EventHandler();\r\n        eventHandler.target = target;\r\n        eventHandler.component = component;\r\n        eventHandler.handler = handler;\r\n        if (customEventData) {\r\n            eventHandler.customEventData = customEventData\r\n        }\r\n\r\n        node.getComponent(cc.Button).clickEvents = [];\r\n        node.getComponent(cc.Button).clickEvents.push(eventHandler);\r\n    },\r\n\r\n    //生成从minNum到maxNum的随机数(包含上限)\r\n    randomNum: function (minNum, maxNum, _float) {\r\n        if (_float) {\r\n            return Math.random() * (maxNum - minNum + 1) + minNum\r\n        }\r\n        return Math.floor(Math.random() * (maxNum - minNum + 1) + minNum);\r\n    },\r\n    //从数组arr内获取随机1个元素(可重复)\r\n    getRandomElement: function (arr) {\r\n        let num = arr.length\r\n        if (num > 0) {\r\n            let i = Math.floor(Math.random() * num)\r\n            if (i == num) i = num - 1\r\n            return arr[i]\r\n        }\r\n        else\r\n            return null\r\n    },\r\n    //获取数组arr内随机amount个元素且不会重复(返回对象新增了所有随机元素的下标数组)\r\n    getRandomAmountElementUnRepeat: function (arr, amount) {\r\n        let arrLength = arr.length\r\n        if (amount >= arrLength) {\r\n            var desArr = {\r\n                nodeArr: arr,\r\n                indexArr: []\r\n            };\r\n            for (var i = 0; i < arr.length; i++) {\r\n                desArr.indexArr.push(i)\r\n            }\r\n            return desArr\r\n        } else if (amount <= 0) {\r\n            return null;\r\n        } else {\r\n            //这里对于此项目做了特化处理\r\n            var desArr = {\r\n                nodeArr: [],\r\n                indexArr: []\r\n            };\r\n            var tempArr = [];\r\n            var temp = null;\r\n            for (var i = 0; i < amount; i++) {\r\n                do {\r\n                    temp = Math.floor(Math.random() * arrLength)\r\n                } while (tempArr.indexOf(temp) > -1)\r\n                tempArr.push(temp)\r\n                desArr.nodeArr.push(arr[temp])\r\n                desArr.indexArr.push(temp)\r\n            }\r\n            return desArr\r\n        }\r\n    },\r\n    isCrit(_num) {\r\n        var arr = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\r\n        var result = this.getRandomAmountElementUnRepeat(arr, _num)\r\n        if (result == null) {\r\n            return false\r\n        } else {\r\n            if (result.nodeArr.indexOf(7) != -1) {\r\n                return true\r\n            } else {\r\n                return false\r\n            }\r\n        }\r\n    },\r\n    getIndex: function (_arr, _obj) {\r\n        var len = _arr.length;\r\n        for (var i = 0; i < len; i++) {\r\n            if (_arr[i] == _obj) {\r\n                return parseInt(i);\r\n            }\r\n        }\r\n        return -1;\r\n    },\r\n    removeArray: function (_arr, _obj) {\r\n        var length = _arr.length;\r\n        for (var i = 0; i < length; i++) {\r\n            if (_arr[i] == _obj) {\r\n                if (i == 0) {\r\n                    _arr.shift(); //删除并返回数组的第一个元素\r\n                    return _arr;\r\n                }\r\n                else if (i == length - 1) {\r\n                    _arr.pop();  //删除并返回数组的最后一个元素\r\n                    return _arr;\r\n                }\r\n                else {\r\n                    _arr.splice(i, 1); //删除下标为i的元素\r\n                    return _arr;\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    /// <summary>\r\n    /// 在圆心为point，半径为radius的圆内，产生一个半径为radius_inner的圆的圆心\r\n    /// </summary>\r\n    /// <param name=\"point\">外圆圆心</param>\r\n    /// <param name=\"radius_outer\">外圆半径</param>\r\n    /// <param name=\"radius_inner\">内圆半径</param>\r\n    /// <returns>内圆圆心</returns>\r\n    pointOfRandom(point, radius_outer, radius_inner) {\r\n        var x = Tools.randomNum(Math.floor(point.x - (radius_outer - radius_inner)), Math.floor(point.x + (radius_outer - radius_inner)));\r\n        var y = Tools.randomNum(Math.floor(point.y - (radius_outer - radius_inner)), Math.floor(point.y + (radius_outer - radius_inner)));\r\n\r\n        while (!this.isInRegion(x - point.x, y - point.y, radius_outer - radius_inner)) {\r\n            x = Tools.randomNum(Math.floor(point.x - (radius_outer - radius_inner)), Math.floor(point.x + (radius_outer - radius_inner)));\r\n            y = Tools.randomNum(Math.floor(point.y - (radius_outer - radius_inner)), Math.floor(point.y + (radius_outer - radius_inner)));\r\n        }\r\n\r\n        var p = cc.v2(x, y);\r\n        return p;\r\n    },\r\n    /// <param name=\"x_off\">与大圆圆心的x方向偏移量</param>\r\n    /// <param name=\"y_off\">与大圆圆心的y方向偏移量</param>\r\n    /// <param name=\"distance\">大圆与小圆半径的差</param>\r\n    /// <returns>判断点是否在范围内</returns>\r\n    isInRegion(x_off, y_off, distance) {\r\n        if (x_off * x_off + y_off * y_off <= distance * distance) {\r\n            return true;\r\n        }\r\n        return false;\r\n    },\r\n    /// <summary>\r\n    /// 判断两个圆是否重合，或者是相内切\r\n    /// </summary>\r\n    /// <param name=\"p_outer\">外圆圆心</param>\r\n    /// <param name=\"r_outer\">外圆半径</param>\r\n    /// <param name=\"p_inner\">内圆圆心</param>\r\n    /// <param name=\"r_inner\">内圆半径</param>\r\n    /// <returns>是否相内切</returns>\r\n    isIntersect(p_outer, r_outer, p_inner, r_inner) {\r\n        //判定条件：两圆心的距离 + r_inner = r_outer\r\n        var distance = parseFloat(Math.sqrt((p_outer.x - p_inner.x) * (p_outer.x - p_inner.x) + (p_outer.y - p_inner.y) * (p_outer.y - p_inner.y)))\r\n        if (distance + r_inner >= r_outer) {\r\n            return true;\r\n        }\r\n        return false;\r\n    },\r\n\r\n    scaleUpAndDowm: function (target, isShining, light) {\r\n        target.runAction(cc.repeatForever(cc.sequence(\r\n            cc.scaleTo(0.3, 1.1).easing(cc.easeIn(2)),\r\n            cc.scaleTo(0.6, 0.9).easing(cc.easeIn(2)),\r\n            cc.scaleTo(0.6, 1.1).easing(cc.easeIn(2)),\r\n            cc.scaleTo(0.6, 0.9).easing(cc.easeIn(2)),\r\n        )));\r\n        if (isShining) {\r\n            light.runAction(cc.repeatForever(cc.sequence(\r\n                cc.fadeIn(0.3).easing(cc.easeIn(2)),\r\n                cc.fadeOut(0.6).easing(cc.easeIn(2)),\r\n                cc.fadeIn(0.6).easing(cc.easeIn(2)),\r\n                cc.fadeOut(0.6).easing(cc.easeIn(2)),\r\n            )))\r\n        }\r\n    },\r\n    shake: function (target) {\r\n        target.runAction(cc.repeatForever(cc.sequence(\r\n            cc.rotateTo(0.1, 5).easing(cc.easeIn(2)),\r\n            cc.rotateTo(0.2, -5).easing(cc.easeIn(2)),\r\n            cc.rotateTo(0.2, 5).easing(cc.easeIn(2)),\r\n            cc.rotateTo(0.1, 0).easing(cc.easeIn(2)),\r\n            cc.delayTime(0.5)\r\n        )));\r\n    },\r\n\r\n\r\n    // 0   , 0.2 , 0.2 , 0.6\r\n    //     0.2, 0.2 , 0.2 , 0.4\r\n    //     0.4, 0.2 , 0.2 , 0.2\r\n    //     0.6, 0.2 , 0.2 , 0\r\n\r\n\r\n    jumpOneByOne: function (target) {\r\n\r\n        var nodeNum = target.childrenCount\r\n        for (var i = 0; i < nodeNum; i++) {\r\n            target.children[i].runAction(cc.sequence(cc.delayTime(i * 0.2), cc.scaleTo(0.2, 1.3).easing(cc.easeBackOut()), cc.scaleTo(0.2, 1), cc.delayTime((nodeNum - 1 - i) * 0.2 + 1)).repeatForever())\r\n        }\r\n    },\r\n    // 本地时间戳->2018/8/8\r\n    toDateFormat: function () {\r\n        let date = new Date();\r\n        date = new Date(date.getTime());\r\n        return {\r\n            year: date.getFullYear(),\r\n            month: (date.getMonth() + 1),\r\n            day: date.getDate()\r\n        }\r\n    },\r\n    // 秒->08:08:08\r\n    toTimeString2: function (s) {\r\n        if (s <= 0) {\r\n            return \"00:00:00\";\r\n        }\r\n        s = Math.floor(s);\r\n        let hour = Math.floor(s / (60 * 60));\r\n        s -= hour * (60 * 60);\r\n        let minute = Math.floor(s / 60);\r\n        s -= minute * 60;\r\n        let ret = '';\r\n        if (hour > 0) {\r\n            ret += hour < 10 ? '0' + hour : hour\r\n        } else {\r\n            ret += '00'\r\n        }\r\n        ret += ':'\r\n        if (minute > 0) {\r\n            ret += minute < 10 ? '0' + minute : minute\r\n        } else {\r\n            ret += '00'\r\n        }\r\n        ret += ':'\r\n        if (s > 0) {\r\n            ret += s < 10 ? '0' + s : s\r\n        } else {\r\n            ret += '00'\r\n        }\r\n        //return ret;\r\n        return {\r\n            hour: hour,\r\n            minute: minute,\r\n            s: s,\r\n        }\r\n    },\r\n\r\n\r\n    // 秒->08:08:08\r\n    toTimeString: function (s) {\r\n        if (s <= 0) {\r\n            return \"00:00\";\r\n        }\r\n        s = Math.floor(s);\r\n        let hour = Math.floor(s / (60 * 60));\r\n        s -= hour * (60 * 60);\r\n        let minute = Math.floor(s / 60);\r\n        s -= minute * 60;\r\n        let ret = '';\r\n        // if (hour > 0) {\r\n        //     ret += hour < 10 ? '0' + hour : hour\r\n        // } else {\r\n        //     ret += '00'\r\n        // }\r\n        // ret += ':'\r\n        if (minute > 0) {\r\n            ret += minute < 10 ? '0' + minute : minute\r\n        } else {\r\n            ret += '00'\r\n        }\r\n        ret += ':'\r\n        if (s > 0) {\r\n            ret += s < 10 ? '0' + s : s\r\n        } else {\r\n            ret += '00'\r\n        }\r\n        return ret;\r\n        // return {\r\n        //     hour: hour,\r\n        //     minute: minute,\r\n        //     s: s,\r\n        // }\r\n    },\r\n\r\n\r\n\r\n\r\n\r\n    addNegativeCaculation: function (isNegative, num, rate, strName) {\r\n        return isNegative ? \"-\" + this.calculation(num, rate, strName) : this.calculation(num, rate, strName);\r\n    },\r\n\r\n    // calculation number\r\n    calculation: function (num, rate, strName) {\r\n        var n1 = Math.floor(num / rate);\r\n        var n2 = Math.floor(num % rate / rate * 10);\r\n        if (n2 === 0) {\r\n            return n1 + strName;\r\n        } else {\r\n            return n1 + \".\" + n2 + strName;\r\n        }\r\n    },\r\n};"]}