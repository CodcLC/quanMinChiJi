{"version":3,"sources":["assets\\scripts\\game\\ParatrooperPlayer.js"],"names":["cc","Class","Component","properties","moveDir","v2","displayName","tooltip","_speedType","SpeedType","STOP","type","_moveSpeed","stopSpeed","Integer","fastSpeed","_borderGroup","onLoad","onEnable","onDisable","onDestroy","init","_bg","move","newPos","node","position","add","mul","x","y","setPosition","setSpeedType","_type","_isDie","setDir","_dir","update","dt","NORMAL","FAST","lateUpdate","GameApp","uiManager","mapCamera"],"mappings":"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","sourceRoot":"/","sourcesContent":["import { SpeedType } from 'JoystickCommon'\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n    properties: {\r\n\r\n        // from joystick\r\n        moveDir: {\r\n            default: cc.v2(1, 0),\r\n            displayName: 'Move Dir',\r\n            tooltip: '移动方向',\r\n        },\r\n        _speedType: {\r\n            default: SpeedType.STOP,\r\n            displayName: 'Speed Type',\r\n            type: SpeedType,\r\n            tooltip: '速度级别'\r\n        },\r\n\r\n        // from self\r\n        _moveSpeed: {\r\n            default: 0,\r\n            displayName: 'Move Speed',\r\n            tooltip: '移动速度'\r\n        },\r\n\r\n        stopSpeed: {\r\n            default: 0,\r\n            type: cc.Integer,\r\n            tooltip: '停止时速度'\r\n        },\r\n        fastSpeed: {\r\n            default: 100,\r\n            type: cc.Integer,\r\n            tooltip: '最快速度'\r\n        },\r\n        _borderGroup: []\r\n    },\r\n    onLoad() {\r\n    },\r\n    onEnable() {\r\n\r\n    },\r\n    onDisable() {\r\n\r\n    },\r\n    onDestroy() {\r\n\r\n    },\r\n    init(_bg) {\r\n        this._borderGroup = _bg\r\n    },\r\n    // methods\r\n    move() {\r\n        let newPos = this.node.position.add(this.moveDir.mul(this._moveSpeed / 60));\r\n        if (newPos.x < this._borderGroup[0].x) {\r\n            newPos.x = this._borderGroup[0].x\r\n        }\r\n        if (newPos.x > this._borderGroup[1].x) {\r\n            newPos.x = this._borderGroup[1].x\r\n        }\r\n        if (newPos.y > this._borderGroup[0].y) {\r\n            newPos.y = this._borderGroup[0].y\r\n        }\r\n        if (newPos.y < this._borderGroup[2].y) {\r\n            newPos.y = this._borderGroup[2].y\r\n        }\r\n        this.node.setPosition(newPos);\r\n    },\r\n    setSpeedType(_type) {\r\n        if (this._isDie) return;\r\n        if (this._speedType != _type) {\r\n            this._speedType = _type\r\n        }\r\n    },\r\n    setDir(_dir) {\r\n        this.moveDir = _dir\r\n    },\r\n    update(dt) {\r\n        switch (this._speedType) {\r\n            case SpeedType.STOP:\r\n                this._moveSpeed = this.stopSpeed;\r\n                break;\r\n            case SpeedType.NORMAL:\r\n                this._moveSpeed = this.fastSpeed\r\n                break;\r\n            case SpeedType.FAST:\r\n                this._moveSpeed = this.fastSpeed\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        this.move();\r\n\r\n    },\r\n    lateUpdate(dt) {\r\n        // this.mainC.node.setPosition(this.player.position)\r\n        // this.testC.node.setPosition(this.player.position)\r\n        GameApp.uiManager.mapCamera.node.setPosition(this.node.position)\r\n        // this.mipmapCamera.node.setPosition(this.node.position)\r\n    },\r\n\r\n});\r\n"]}