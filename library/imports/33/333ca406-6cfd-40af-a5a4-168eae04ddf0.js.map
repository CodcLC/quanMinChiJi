{"version":3,"sources":["assets\\scripts\\ui\\ActivityPopup.js"],"names":["cc","Class","Component","properties","page1","Node","page2","btn1","btn2","activeProgress","ProgressBar","progressBtnGroup","activeUI","Label","curPageIndex","onLineTaskNum","activityTaskNum","activityCoinNum","onLoad","a","GameApp","dataManager","globalData","onLineGiftCurNum","activityCurNum","concat","activityCurCoin","btn1Click","eventTouch","audioManager","playEffect","children","active","showPage1","btn2Click","showPage2","updateOnlineTask","finishAll","i","getOnLineGiftsState","sys","localStorage","setItem","setOnLineGiftsState","TaskState","Unfinish","updateOnLineTaskShow","getComponent","string","updateOnlineTaskBtnShow","_minuteTime","getOnlineTimeMinute","Canget","updateActivityTask","getActivityGiftsState","activityAddNum","JSON","stringify","activityAddCoin","setActivityGiftsState","updateActivityTaskShow","arr1","updateActivityTaskBtnShow","activityNum","updateProgressShow","updateProgressBtnShow","onLineTaskBtnClick","customEventData","selectId","parseInt","Got","addCoin","uiManager","showToast","activityTaskBtnClick","addActiveValue","progress","activeValue","progressBtnClick","progressGifts","arr","arr2","setProgressGifts","closeBtnClick","eventManager","emit","EventNames","EVENT_SHOW_ACTIVITYBTN","node","destroy"],"mappings":"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","sourceRoot":"/","sourcesContent":["\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        page1: cc.Node,\r\n        page2: cc.Node,\r\n        btn1: cc.Node,\r\n        btn2: cc.Node,\r\n        activeProgress: cc.ProgressBar,\r\n        progressBtnGroup: cc.Node,\r\n        activeUI: cc.Label,\r\n        curPageIndex: 0,\r\n        onLineTaskNum: [],\r\n        activityTaskNum: [],\r\n        activityCoinNum: [],\r\n    },\r\n\r\n    onLoad() {\r\n        let a = GameApp.dataManager.globalData.onLineGiftCurNum\r\n        this.onLineTaskNum = [a - 10, a - 5, a]\r\n        this.activityTaskNum = GameApp.dataManager.globalData.activityCurNum.concat()\r\n        this.activityCoinNum = GameApp.dataManager.globalData.activityCurCoin.concat()\r\n        this.btn1Click()\r\n    },\r\n    btn1Click(eventTouch) {\r\n        if (this.curPageIndex == 1 && eventTouch) return\r\n        this.curPageIndex = 1\r\n        eventTouch && GameApp.audioManager.playEffect('click')\r\n        this.btn1.children[0].active = false\r\n        this.btn1.children[1].active = true\r\n        this.btn2.children[0].active = true\r\n        this.btn2.children[1].active = false\r\n        this.page2.active = false\r\n        this.showPage1()\r\n    },\r\n    btn2Click(eventTouch) {\r\n        if (this.curPageIndex == 2 && eventTouch) return\r\n        this.curPageIndex = 2\r\n        eventTouch && GameApp.audioManager.playEffect('click')\r\n        this.btn1.children[0].active = true\r\n        this.btn1.children[1].active = false\r\n        this.btn2.children[0].active = false\r\n        this.btn2.children[1].active = true\r\n        this.page1.active = false\r\n        this.showPage2()\r\n    },\r\n    updateOnlineTask() {\r\n        var finishAll = true\r\n        for (var i in this.page1.children) {\r\n            if (GameApp.dataManager.getOnLineGiftsState(i) != 2) {\r\n                finishAll = false\r\n                break;\r\n            }\r\n        }\r\n        if (finishAll) {\r\n            GameApp.dataManager.globalData.onLineGiftCurNum += 15\r\n            cc.sys.localStorage.setItem(\"EatChicken_onLineGiftCurNum\", GameApp.dataManager.globalData.onLineGiftCurNum);\r\n            let a = GameApp.dataManager.globalData.onLineGiftCurNum\r\n            this.onLineTaskNum = [a - 10, a - 5, a]\r\n            GameApp.dataManager.setOnLineGiftsState(0, TaskState.Unfinish)\r\n            GameApp.dataManager.setOnLineGiftsState(1, TaskState.Unfinish)\r\n            GameApp.dataManager.setOnLineGiftsState(2, TaskState.Unfinish)\r\n        }\r\n        this.updateOnLineTaskShow()\r\n    },\r\n    updateOnLineTaskShow() {\r\n        for (var i in this.page1.children) {\r\n            this.page1.children[i].children[0].children[0].getComponent(cc.Label).string = \"累计游戏在线\" + this.onLineTaskNum[i] + \"分钟\"\r\n            this.page1.children[i].children[0].children[1].children[0].getComponent(cc.Label).string = this.onLineTaskNum[i]\r\n        }\r\n        this.updateOnlineTaskBtnShow()\r\n    },\r\n    updateOnlineTaskBtnShow() {\r\n        var _minuteTime = GameApp.dataManager.getOnlineTimeMinute()\r\n        for (var i in this.page1.children) {\r\n            switch (GameApp.dataManager.getOnLineGiftsState(i)) {\r\n                case 0:\r\n                    if (_minuteTime >= this.onLineTaskNum[i]) {\r\n                        GameApp.dataManager.setOnLineGiftsState(i, TaskState.Canget)\r\n                        this.page1.children[i].children[1].children[0].active = false\r\n                        this.page1.children[i].children[1].children[1].active = true\r\n                        this.page1.children[i].children[1].children[2].active = false\r\n                    } else {\r\n                        this.page1.children[i].children[1].children[0].active = true\r\n                        this.page1.children[i].children[1].children[1].active = false\r\n                        this.page1.children[i].children[1].children[2].active = false\r\n                    }\r\n                    break\r\n                case 1:\r\n                    this.page1.children[i].children[1].children[0].active = false\r\n                    this.page1.children[i].children[1].children[1].active = true\r\n                    this.page1.children[i].children[1].children[2].active = false\r\n                    break\r\n                case 2:\r\n                    this.page1.children[i].children[1].children[0].active = false\r\n                    this.page1.children[i].children[1].children[1].active = false\r\n                    this.page1.children[i].children[1].children[2].active = true\r\n                    break\r\n            }\r\n        }\r\n    },\r\n    updateActivityTask() {\r\n        for (var i in this.activityTaskNum) {\r\n            if (GameApp.dataManager.getActivityGiftsState(i) == 2) {\r\n                GameApp.dataManager.globalData.activityCurNum[i] += GameApp.dataManager.globalData.activityAddNum[i]\r\n                cc.sys.localStorage.setItem(\"EatChicken_activityCurNum\", JSON.stringify(GameApp.dataManager.globalData.activityCurNum));\r\n                GameApp.dataManager.globalData.activityCurCoin[i] += GameApp.dataManager.globalData.activityAddCoin[i]\r\n                cc.sys.localStorage.setItem(\"EatChicken_activityCurCoin\", JSON.stringify(GameApp.dataManager.globalData.activityCurCoin));\r\n                GameApp.dataManager.setActivityGiftsState(i, TaskState.Unfinish)\r\n            }\r\n        }\r\n\r\n        this.activityTaskNum = GameApp.dataManager.globalData.activityCurNum.concat()\r\n        this.activityCoinNum = GameApp.dataManager.globalData.activityCurCoin.concat()\r\n        this.updateActivityTaskShow()\r\n    },\r\n    updateActivityTaskShow() {\r\n        var arr1 = [\"累计使用手枪击杀\" + this.activityTaskNum[0] + \"人\",\r\n        \"累计击杀\" + this.activityTaskNum[1] + \"人\",\r\n        \"累计吃鸡\" + this.activityTaskNum[2] + \"局\"]\r\n        for (var i in this.activityTaskNum) {\r\n            this.page2.children[i].children[0].children[0].getComponent(cc.Label).string = arr1[i]\r\n            this.page2.children[i].children[0].children[1].children[0].getComponent(cc.Label).string = this.activityCoinNum[i]\r\n        }\r\n\r\n        this.updateActivityTaskBtnShow()\r\n    },\r\n    updateActivityTaskBtnShow() {\r\n        for (var i in this.activityTaskNum) {\r\n            switch (GameApp.dataManager.getActivityGiftsState(i)) {\r\n                case 0:\r\n                    if (GameApp.dataManager.globalData.activityNum[i] >= this.activityTaskNum[i]) {\r\n                        GameApp.dataManager.setActivityGiftsState(i, TaskState.Canget)\r\n                        this.page2.children[i].children[1].children[0].active = false\r\n                        this.page2.children[i].children[1].children[1].active = true\r\n                        this.page2.children[i].children[1].children[2].active = false\r\n                    } else {\r\n                        this.page2.children[i].children[1].children[0].active = true\r\n                        this.page2.children[i].children[1].children[1].active = false\r\n                        this.page2.children[i].children[1].children[2].active = false\r\n                    }\r\n                    break\r\n                case 1:\r\n                    this.page2.children[i].children[1].children[0].active = false\r\n                    this.page2.children[i].children[1].children[1].active = true\r\n                    this.page2.children[i].children[1].children[2].active = false\r\n                    break\r\n                case 2:\r\n                    this.page2.children[i].children[1].children[0].active = false\r\n                    this.page2.children[i].children[1].children[1].active = false\r\n                    this.page2.children[i].children[1].children[2].active = true\r\n                    break\r\n            }\r\n        }\r\n    },\r\n    showPage1() {\r\n        this.updateOnlineTask()\r\n\r\n        this.page1.active = true\r\n    },\r\n    showPage2() {\r\n        this.updateActivityTask()\r\n        this.updateProgressShow()\r\n        this.updateProgressBtnShow()\r\n        this.page2.active = true\r\n    },\r\n    onLineTaskBtnClick(eventTouch, customEventData) {\r\n        var selectId = parseInt(customEventData)\r\n        if (GameApp.dataManager.getOnLineGiftsState(selectId - 1) == 1) {\r\n            GameApp.dataManager.setOnLineGiftsState(selectId - 1, TaskState.Got)\r\n            GameApp.dataManager.addCoin(this.onLineTaskNum[selectId - 1])\r\n            GameApp.uiManager.showToast(\"获得金币*\" + this.onLineTaskNum[selectId - 1])\r\n            this.updateOnlineTaskBtnShow()\r\n        }\r\n    },\r\n    activityTaskBtnClick(eventTouch, customEventData) {\r\n        var selectId = parseInt(customEventData)\r\n        if (GameApp.dataManager.getActivityGiftsState(selectId - 1) == 1) {\r\n            GameApp.dataManager.setActivityGiftsState(selectId - 1, TaskState.Got)\r\n            GameApp.dataManager.addCoin(this.activityCoinNum[selectId - 1])\r\n            GameApp.dataManager.addActiveValue(20)\r\n            this.updateProgressShow()\r\n            GameApp.uiManager.showToast(\"获得金币*\" + this.activityCoinNum[selectId - 1])\r\n            this.updateActivityTaskBtnShow()\r\n        }\r\n    },\r\n    updateProgressShow() {\r\n        this.activeProgress.progress = GameApp.dataManager.globalData.activeValue / 120\r\n        this.activeUI.string = GameApp.dataManager.globalData.activeValue\r\n    },\r\n\r\n    progressBtnClick(eventTouch, customEventData) {\r\n        var selectId = parseInt(customEventData)\r\n        if (GameApp.dataManager.globalData.progressGifts[selectId - 1] == 1) {\r\n            GameApp.audioManager.playEffect('click')\r\n            var arr = [30, 60, 90, 120]\r\n            var arr2 = [100, 200, 300, 400]\r\n            // if (GameApp.dataManager.activeValue >= arr[selectId - 1]) {\r\n            GameApp.dataManager.addCoin(arr2[selectId - 1])\r\n            GameApp.uiManager.showToast(\"获得金币*\" + arr2[selectId - 1])\r\n            GameApp.dataManager.setProgressGifts(selectId - 1, 2)\r\n            this.updateProgressBtnShow()\r\n            // }\r\n        }\r\n\r\n    },\r\n    updateProgressBtnShow() {\r\n        var arr = [30, 60, 90, 120]\r\n        for (var i in arr) {\r\n            if (GameApp.dataManager.globalData.progressGifts[i] == 0) {\r\n                if (GameApp.dataManager.globalData.activeValue >= arr[i]) {\r\n                    GameApp.dataManager.setProgressGifts(i, 1)\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        for (var i in this.progressBtnGroup.children) {\r\n            if (GameApp.dataManager.globalData.progressGifts[i] == 2) {\r\n                this.progressBtnGroup.children[i].children[0].active = false\r\n                this.progressBtnGroup.children[i].children[1].active = true\r\n            } else {\r\n                this.progressBtnGroup.children[i].children[0].active = true\r\n                this.progressBtnGroup.children[i].children[1].active = false\r\n            }\r\n        }\r\n    },\r\n\r\n    closeBtnClick() {\r\n        GameApp.audioManager.playEffect('click')\r\n        GameApp.eventManager.emit(EventNames.EVENT_SHOW_ACTIVITYBTN)\r\n        this.node.destroy()\r\n    },\r\n});\r\n"]}