{"version":3,"sources":["assets\\scripts\\game\\GroundItem.js"],"names":["cc","Class","Component","properties","itemType","onLoad","getComponent","PhysicsBoxCollider","tag","Tags","item","doAnim","node","children","runAction","sequence","fadeOut","fadeIn","repeatForever","moveBy","v2","init","_param","_spriteFrame","_type","ItemType","weapon","active","Sprite","spriteFrame","GameApp","uiManager","commonAtlas","getSpriteFrame","dataManager","jsonData","WeaponData","_kind","skinname","Label","string","name"],"mappings":";;;;;;AACAA,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAGLC,EAAAA,UAAU,EAAE;AACRC,IAAAA,QAAQ,EAAE;AACN,iBAAS;AADH;AADF,GAHP;AAULC,EAAAA,MAVK,oBAUI;AACL,SAAKC,YAAL,CAAkBN,EAAE,CAACO,kBAArB,EAAyCC,GAAzC,GAA+CC,IAAI,CAACC,IAApD;AACA,SAAKC,MAAL;AACH,GAbI;AAcLA,EAAAA,MAdK,oBAcI;AACL,SAAKC,IAAL,CAAUC,QAAV,CAAmB,CAAnB,EAAsBC,SAAtB,CAAgCd,EAAE,CAACe,QAAH,CAAYf,EAAE,CAACgB,OAAH,CAAW,GAAX,CAAZ,EAA6BhB,EAAE,CAACiB,MAAH,CAAU,GAAV,CAA7B,EAA6CC,aAA7C,EAAhC;AACA,SAAKN,IAAL,CAAUC,QAAV,CAAmB,CAAnB,EAAsBC,SAAtB,CAAgCd,EAAE,CAACe,QAAH,CAAYf,EAAE,CAACmB,MAAH,CAAU,GAAV,EAAenB,EAAE,CAACoB,EAAH,CAAM,CAAN,EAAS,EAAT,CAAf,CAAZ,EAA0CpB,EAAE,CAACmB,MAAH,CAAU,GAAV,EAAenB,EAAE,CAACoB,EAAH,CAAM,CAAN,EAAS,CAAC,EAAV,CAAf,CAA1C,EAAyEF,aAAzE,EAAhC;AACH,GAjBI;AAkBLG,EAAAA,IAlBK,gBAkBAC,MAlBA,EAkBQC,YAlBR,EAkBsB;AACvBD,IAAAA,MAAM,KAAK,KAAKlB,QAAL,GAAgBkB,MAArB,CAAN,CADuB,CAEvB;;AACA,QAAI,KAAKlB,QAAL,CAAcoB,KAAd,IAAuBC,QAAQ,CAACC,MAApC,EAA4C;AACxC,WAAKd,IAAL,CAAUC,QAAV,CAAmB,CAAnB,EAAsBc,MAAtB,GAA+B,KAA/B;AACA,WAAKf,IAAL,CAAUC,QAAV,CAAmB,CAAnB,EAAsBP,YAAtB,CAAmCN,EAAE,CAAC4B,MAAtC,EAA8CC,WAA9C,GAA4DC,OAAO,CAACC,SAAR,CAAkBC,WAAlB,CAA8BC,cAA9B,CAA6C,iBAAiBH,OAAO,CAACI,WAAR,CAAoBC,QAApB,CAA6BC,UAA7B,CAAwCd,MAAM,CAACe,KAA/C,EAAsDC,QAApH,CAA5D;AACH,KAHD,MAGO;AACH,WAAK1B,IAAL,CAAUC,QAAV,CAAmB,CAAnB,EAAsBP,YAAtB,CAAmCN,EAAE,CAACuC,KAAtC,EAA6CC,MAA7C,GAAsDV,OAAO,CAACI,WAAR,CAAoBC,QAApB,CAA6BC,UAA7B,CAAwC,KAAKhC,QAAL,CAAciC,KAAtD,EAA6DI,IAAnH;AACA,WAAK7B,IAAL,CAAUC,QAAV,CAAmB,CAAnB,EAAsBc,MAAtB,GAA+B,IAA/B;AACA,WAAKf,IAAL,CAAUC,QAAV,CAAmB,CAAnB,EAAsBP,YAAtB,CAAmCN,EAAE,CAAC4B,MAAtC,EAA8CC,WAA9C,GAA4DC,OAAO,CAACC,SAAR,CAAkBC,WAAlB,CAA8BC,cAA9B,CAA6C,oBAA7C,CAA5D;AACH;AAGJ,GA/BI,CAgCL;AACA;AACA;AACA;AACA;AACA;;AArCK,CAAT","sourceRoot":"/","sourcesContent":["\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        itemType: {\r\n            default: {}\r\n        },\r\n\r\n    },\r\n\r\n    onLoad() {\r\n        this.getComponent(cc.PhysicsBoxCollider).tag = Tags.item\r\n        this.doAnim()\r\n    },\r\n    doAnim() {\r\n        this.node.children[0].runAction(cc.sequence(cc.fadeOut(0.6), cc.fadeIn(0.3)).repeatForever())\r\n        this.node.children[1].runAction(cc.sequence(cc.moveBy(0.5, cc.v2(0, 10)), cc.moveBy(0.5, cc.v2(0, -10))).repeatForever())\r\n    },\r\n    init(_param, _spriteFrame) {\r\n        _param && (this.itemType = _param)\r\n        // if (true) {\r\n        if (this.itemType._type == ItemType.weapon) {\r\n            this.node.children[2].active = false\r\n            this.node.children[1].getComponent(cc.Sprite).spriteFrame = GameApp.uiManager.commonAtlas.getSpriteFrame(\"item_weapon_\" + GameApp.dataManager.jsonData.WeaponData[_param._kind].skinname)\r\n        } else {\r\n            this.node.children[2].getComponent(cc.Label).string = GameApp.dataManager.jsonData.WeaponData[this.itemType._kind].name\r\n            this.node.children[2].active = true\r\n            this.node.children[1].getComponent(cc.Sprite).spriteFrame = GameApp.uiManager.commonAtlas.getSpriteFrame(\"item_equip_1_valid\")\r\n        }\r\n\r\n\r\n    },\r\n    // setItemIcon(id) {\r\n    //     var self = this\r\n    //     cc.loader.loadRes(\"texture/skin_piece/card_p_\" + id, cc.SpriteFrame, function (err, spriteFrame) {\r\n    //         self.methodBtnGroup[2].children[0].getComponent(cc.Sprite).spriteFrame = spriteFrame\r\n    //     });\r\n    // },\r\n});\r\n"]}